This is ecb.info, produced by makeinfo version 4.2 from ecb.texi.

INFO-DIR-SECTION GNU Emacs Lisp
START-INFO-DIR-ENTRY
* ECB: (ecb).           Emacs Code Browser
END-INFO-DIR-ENTRY


File: ecb.info,  Node: Top,  Next: Install and first steps,  Prev: (dir),  Up: (dir)

ECB (Emacs Code Browser) is a source code browser for (X)Emacs. It is a
global minor-mode which displays a couple of windows that can be used to
browse directories, files and methods. It supports method parsing for Java,
C, C++, Elisp and some more.

*NOTE*: Experienced ECB users find a complete alphabetical list of all
commands and user-options in *Note Interactive ECB commands:: and *Note
Customizable options::.

The latest version of ECB can always be found at the URL
<http://home.swipnet.se/mayhem/ecb.html>.

To send bug reports, or participate in discussions about ECB, use the mailing
list <ecb-list@lists.sourceforge.net> via the URL
<http://lists.sourceforge.net/lists/listinfo/ecb-list>.

* Menu:

* Install and first steps::     Installing ECB and first steps
* Overview::                    Introduce basic concepts
* Activation and Deactivation:: How to start and end ECB
* Usage of ECB::                How to use ECB
* Customizing::                 How to customize ECB
* Submitting problem report::   What to do when problems occur
* Upgrading::                   Upgrading and downloading packages
* Tips and tricks::             Useful hints and tips
* Elisp programming::           Entry points for elisp programmers
* Conflicts and bugs::          Known Conflicts with other packages and bugs
* FAQ::                         Frequent asked questions
* Command Index::               Index for interactive commands
* Option Index::                Index for user options
* Concept Index::               Index for concepts and terms

 --- The Detailed Node Listing ---

Installation and first steps of ECB

* Installation::                Installation of ECB
* Setting up Emacs::            How to set up Emacs for semantic and ECB
* First steps::                 First steps after activating ECB first time

Overview

* ECB Directories::             Contents of the ECB Directories-buffer
* ECB Sources::                 Contents of the ECB Sources/history-buffer
* ECB Methods::                 Contents of the ECB Methods-buffer

Activation and Deactivation

* Standard activation::         How to manually (de)activate ECB
* Automatic activation::        Automaticaly (de)activating ECB

Usage of ECB

* Using the mouse::             Working with the mouse
* Using the keyboard::          Working with the keyboard
* The edit-window::             How to use the edit-window(s)
* Temp- and compile-buffers::   Displaying temp- and compilation-buffers
* The Methods buffer::          Using and customizing he Methods-buffer
* The ECB-layout::              Changing, customizing, redrawing, creating
* Hiding the ECB windows::      Hiding/Showing the ECB-windows
* Back/forward navigation::     Back- and forward navigation like a browser
* ECB-window synchronizing::    Auto./manual synchronizing the ECB-windows
* Interactive ECB commands::    All interactive user-commands of ECB

Working with the keyboard in the ECB-windows

* Navigation::                  Keyboard navigation in a tree-buffer
* Incremental search::          Find nodes as fast as possible
* Personal keybindings::        Adding personal keybindings to a tree-buffer

Using and customizing the ECB-Methods buffer

* Customizing the display::     How to customize the Methods-buffer display
* Rebuilding the Methods::      When to rebuild the Methods-buffer

Changing, customizing, redrawing and creating layouts

* Changing the ECB-layout::     How to change and customize the layout
* Redrawing the ECB-layout::    How and when redrawing the layout
* Creating a new ECB-layout::   Interactively creating new layouts

Customizing ECB

* General aspects::             General aspects for customizing ECB
* Most important options::      Which option you must know
* Customizable options::        All customizable options of ECB

All customizable options of ECB

* ecb-general::                 General customizing ECB
* ecb-directories::             Customizing the ECB-directories
* ecb-sources::                 Customizing the ECB-sources
* ecb-methods::                 Customizing the ECB-methods
* ecb-history::                 Customizing the ECB-history
* ecb-layout::                  Customizing the ECB-layout
* ecb-compilation-content::     Customizing the compile-window contents
* ecb-create-layout::           Customizing options for creating layouts
* ecb-face-options::            Customizing options for faces
* ecb-faces::                   Customizing the faces
* ecb-download::                Customizing how to download ECB
* ecb-help::                    Customizing the online help of ECB
* ecb-eshell::                  Customizing the eshell-integration

Upgrading and downloading packages

* Downloading new versions::    How to download newer versions of packages
* Auto. option-upgrading::      ECB can auto. upgrade your options

Automatic upgrading of options

* User interface::              Options and commands you should know
* Background information::      Maybe some interesting informations

Tips and tricks

* Changing faces::              Changing faces in the ECB tree-buffers
* Small screens::               Working with small screens
* Big screens::                 Working with big screens
* Simulating speedbar::         Simulating speedbar without an extra frame
* Integrating speedbar::        Integrating speedbar in the ECB-frame
* Optimize scrolling::          Optimize scrolling in the edit-window
* Large directories::           Working with large directories
* Using eshell::                Optimal using of eshell in ECB

Entry points for elisp programmers

* List of variables::           Which variables an elisp-program can use
* List of hooks::               All available hooks
* tree-buffer::                 Some words to the tree-buffer-library
* Adviced functions::           How to deal with the adviced functions
* The layout-engine::           Programming new layouts and special windows

How to program new layouts and new special windows

* Programming a new layout::    How to program a new layout
* Programming special windows:: Aspects of programming special windows
* The layout-engine API::       The complete layout-engine API

Known conflicts and bugs of ECB

* Conflicts::                   Known conflicts with other packages
* Bugs::                        Known bugs


File: ecb.info,  Node: Install and first steps,  Next: Overview,  Prev: Top,  Up: Top

Installation and first steps of ECB
***********************************

This chapter describes how to install ECB and setup (X)Emacs correctly and
what are the first steps after activation of ECB.

* Menu:

* Installation::                Installation of ECB
* Setting up Emacs::            How to set up Emacs for semantic and ECB
* First steps::                 First steps after activating ECB first time


File: ecb.info,  Node: Installation,  Next: Setting up Emacs,  Prev: Install and first steps,  Up: Install and first steps

Installation of ECB
===================

*IMPORTANT*: The following steps 1., 2., 3., 7. and 8. describe installation
tasks if you got the archive in the format available at the ECB website. If
you use XEmacs and got ECB as regular XEmacs-package (e.g. downloaded and
installed by the net-installer of XEmacs) then the steps 1., 2., 3., 7. and
8. are not necessary for you.

1. Unpack the ECB archive (probably you have already done this :-)

2. Read the file `README' in the ECB-directory and install the required
   semantic- and eieio-version.

   *Note*: ECB maybe requires a newer version of these libraries than shipped
   with (X)Emacs. You have to install exactly a version ECB requires and also
   to make sure that the correct version is loaded into (X)Emacs!

   But ECB checks auto. during start-time if the correct versions of semantic
   and eieio are installed and gives you proper feedback.  *Note Download
   required packages::.

3. Add the new ECB-directory to your `load-path' variable.

   You *MUST* add the ECB-install-directory to the `load-path' either by
   changing the `load-path' variable directly in your `.emacs' or
   `site-lisp/site-start.el' or by working with a file `subdirs.el'(1).

   *ATTENTION*: ECB is NOT properly installed if it's directory is not added
   to `load-path' and for example just loaded by

      (load-file "/path/to/ecb/ecb.el")

   Do not do this!

4. Load ECB by adding code to your `.emacs':

   If you want to load the complete ECB at (X)Emacs-loadtime (Advantage: All
   ECB-options available after loading (X)Emacs. Disadvantage: Increasing
   loadtime(2)):

      (require 'ecb)

   If you want to load the ECB first after starting it by `ecb-activate'
   (Advantage: Fast loading(3). Disadvantage: ECB- and semantic-options first
   available after starting ECB):

      (autoload 'ecb-activate "ecb" "Activate ECB" t)
      (autoload 'ecb-byte-compile "ecb" "Byte-compile ECB" t)
      (autoload 'ecb-show-help "ecb-help" "Show the online help of ECB" t)

5. Restart (X)Emacs.

ECB is now ready for use and can be activated by calling `M-x ecb-activate'
or `ecb-minor-mode'. Now you can either starting using ECB or you can do
these optional installation steps:

6. Reading the online help with `ecb-show-help'

   Maybe you are interested to read the online-help of ECB before first start.

7. Bytecompiling ECB with `ecb-byte-compile'

   This byte compiles ECB. You can safely ignore all messages if there are
   any. (You can also bytecompile ECB from the command-line either by using
   the `Makefile' or by using the batch-file `make.bat'; just read the
   comments in that file you choose.)

8. Installing the supplied `ecb.info'

   The ECB distribution contains a file `ecb.info' which is the online-help
   of ECB in Info-format. You can install this online help so it's available
   in the Top-directory of Info. There are two ways to do this:

    - Use "install-info" (recommended):

      1. Copy the file `ecb.info' into the info-directory of Emacs

      2. Install it with the command "install-info" (if available on your
         system) in the `dir'-file.

      The supplied `Makefile' offers a target `install-help' which does both
      of these steps. You have just to call `make install-help' with the
      correct EMACSINFOPATH set (see the comment in `Makefile'). Here is an
      example:

         make EMACSINFOPATH=/path/to/emacs/info install-help

    - Manual Installation:

      Copy the file `ecb.info' into the info-directory of Emacs and modify
      the file `dir' manually.

   But it doesn't matter if you do not execute this step (8.) because the
   online help of ECB is always available though, see `ecb-show-help' (*note
   Interactive ECB commands::).


---------- Footnotes ----------

(1) This works at least for Emacs 20.X and Emacs 21.X but XEmacs may have
slightly different mechanisms; see the XEmacs documentation

(2) Cause of full loading of ECB itself and also the packages semantic and
eieio regardless if ECB is started.

(3) ECB, semantic and eieio are first loaded after starting ECB


File: ecb.info,  Node: Setting up Emacs,  Next: First steps,  Prev: Installation,  Up: Install and first steps

How to set up Emacs for file parsing
====================================

To ensure ECB and semantic are working correctly for all by semantic
supported languages you have to pay attention to the following aspects
concerning your Emacs-setup:

1. Setting up semantic

   Parsing files is done completely by semantic. ECB just displays the
   parsing results. For all needs of ECB semantic is completely setup by ECB
   itself, i.e. ECB sets up semantic for you! You have only to add the
   installation directory of semantic to your `load-path' (in an appropriate
   way)!

2. Activating the correct major-mode

   ECB is for browsing source-files and therefore you have to setup your
   Emacs-configuration properly so semantic can be activated automatically
   for parsing your Emacs-Lisp, C, C++ or Java buffers(1). For this Emacs
   must activate the correct `major-mode' for the source-files and Emacs can
   only do this if the option `auto-mode-alist' is setup correctly. The
   correct major-modes and possible file-extensions(2) are:

   LANGUAGE        MAJOR-MODE                             EXTENSION(S)
   Emacs Lisp      `emacs-lisp-mode'                      .el
   C               `c-mode'                               .h, .c
   C++             `c++-mode'                             .h, .hxx, .hh, .HH,
                                                          .cxx, .cpp, .cc, .CC
   Java            `java-mode' or `jde-mode' (if you use  .java
                   JDEE)                                  

   Example: If you want files with extension ".cpp" being c++-parsed by
   semantic and ECB, your `auto-mode-alist' must contain an entry like:

      ("\\.cpp\\'" . c++-mode)

   After this ECB will correctly parse your ".cpp"-sources and display all
   the semantic information in the ECB-methods buffer.

3. Checking your hooks

   If you have already checked points (1.) and (2.) and if you have still
   problems getting ECB/semantic working properly for your sources you should
   check the related major-mode hook. Every major-mode X has a hook with name
   "X-hook" which is evaluated after activating the major-mode (see above,
   2.), e.g. the hook for the major-mode `c++-mode' is `c++-mode-hook'.

   Semantic adds automatically during load-time a special "semantic-setup" to
   these major-mode hooks(3) in form of a "setup-function". Example: For c
   and c++ modes semantic adds `semantic-default-c-setup' to `c-mode-hook' and
   `c++-mode-hook'.

   If your own Emacs-setup (e.g. in `.emacs' or `site-lisp/site-start.el')
   overwrites such a major-mode-hook then semantic can not be activated for
   this major-mode and in consequence ECB can not work properly too!

   Check if your Emacs-setup uses somewhere `setq' for adding code to a
   major-mode-hook. *IMPORTANT*: Use `add-hook' instead of `setq'(4)!


If your source-files are "running" with correct `major-mode' and correct
major-mode hooks ECB and semantic will do what you expect them doing!

---------- Footnotes ----------

(1) semantic supports some more "languages" like Makefiles etc. but these are
the most important ones.

(2) Especially for C++ and C you can use any extension you want but these are
the most common ones!

(3) Of course only for major-modes supported by semantic!

(4) `setq' replaces/overwrites the current value of a hook with the new value
whereas `add-hook' *adds* the new value to the old-value of the hook!


File: ecb.info,  Node: First steps,  Prev: Setting up Emacs,  Up: Install and first steps

First steps after activating ECB first time
===========================================

This section of the ECB online-help is displayed automatically by ECB after
activating ECB first time and describes what are the first basic steps:

1. Configure where ECB can find your sources:

   Call `M-x customize-option RET ecb-source-path RET'(1). This lets you
   customize the option `ecb-source-path' with the customize-feature of
   Emacs. This opens a customize-buffer where you can insert all the
   directories where ECB can find your source-files. Save your changes with
   the button "Save for future sessions" and then throw away this
   customize-buffer either by killing it with `M-x kill-buffer' or clicking
   at the button "Finish".

2. Read the online-help of ECB:

   The online-help of ECB is available via

    - calling `M-x ecb-show-help',

    - pressing `C-c . o' or

    - using the menu "ECB".

   (The section you are currently reading is part of the online-help of ECB)

3. Start working with ECB.

---------- Footnotes ----------

(1) This means first hitting the keys `M' (Meta- or Alt-key) and `x'
simultaniously, inserting "customize-option" in the minibuffer, hitting
RETURN, inserting "ecb-source-path" in the minibuffer and finally hitting
RETURN again


File: ecb.info,  Node: Overview,  Next: Activation and Deactivation,  Prev: Install and first steps,  Up: Top

Overview
********

ECB is a global minor-mode which offers a couple of "ECB-windows" for
browsing your sources comfortable with the mouse and the keyboard.  These
"special" windows are also called "tree-buffer" in this manual. Every "item"
in such a tree-buffer, i.e. every line, is also called a "node" of this
tree-buffer. There are currently three different types of
ECB-windows/tree-buffers:

 - ECB-Directories

 - ECB-Sources

 - ECB-Methods

In addition to these "special" ECB-windows you have always one or two
"edit-windows" (*note The edit-window::) in the ECB-frame and at the bottom a
"compilation-window" (optional), where all the output of Emacs-compilation
(compile, grep etc.) is shown (*note Temp- and compile-buffers::).

The following "ascii-screenshot" illustrates the typical layout of the
ECB-frame(1):

   ------------------------------------------------------------------
   |              |                                                 |
   |  Directories |                                                 |
   |              |                                                 |
   |--------------|                                                 |
   |              |                                                 |
   |  Sources     |                                                 |
   |              |                                                 |
   |--------------|                 Edit-window(s)                  |
   |              |        (can be splitted in two windows)         |
   |  Methods     |                                                 |
   |              |                                                 |
   |--------------|                                                 |
   |              |                                                 |
   |  History     |                                                 |
   |              |                                                 |
   ------------------------------------------------------------------
   |                                                                |
   |                 Compilation-window (optional)                  |
   |                                                                |
   ------------------------------------------------------------------

In the following subsections the "special" ECB-windows will be explained in
detail.

* Menu:

* ECB Directories::             Contents of the ECB Directories-buffer
* ECB Sources::                 Contents of the ECB Sources/history-buffer
* ECB Methods::                 Contents of the ECB Methods-buffer

---------- Footnotes ----------

(1) This is only one example of the layouts ECB offers, see *Note Changing
the ECB-layout::


File: ecb.info,  Node: ECB Directories,  Next: ECB Sources,  Prev: Overview,  Up: Overview

ECB Directories
===============

 * Select directories (and - if enabled - source files) in the
   "ECB-Directories" buffer by clicking a mouse button on the directory name
   or by hitting RETURN when the cursor is placed on the item line, see *Note
   Usage of ECB::.

 * Directory names with a "[+]" symbol after (or before) them can be
   expanded/collapsed by clicking on the symbol, pressing the TAB key (*note
   Using the keyboard::) when the cursor is placed on the package line or
   clicking a mouse button on the item, see *Note Using the mouse::.

 * Right clicking on an item will open a popup menu where different
   operations on the item under the mouse cursor can be performed.

 * Pressing F2 will open the ECB customization group (*note Customizing::) in
   the edit window. F3 shows the online help in the edit-window. Pressing F4
   in the ECB-directories buffer will offer adding a new source-path.


File: ecb.info,  Node: ECB Sources,  Next: ECB Methods,  Prev: ECB Directories,  Up: Overview

ECB Sources
===========

 * Source files can be selected by clicking a mouse button (*note Using the
   mouse::) or hitting RETURN (*note Using the keyboard::) on the source row
   in the "ECB-Sources" or "ECB- History" windows.

   IMPORTANT: If you hold down the SHIFT-key while clicking with the primary
   mouse button (*note Using the mouse::) or RETURN (*note Using the
   keyboard::) on a source row in the ECB-Sources or ECB-History windows then
   the source will not be displayed in the edit-window but it will be scanned
   in the background and all its contents (e.g. methods and variables) are
   listed in the "ECB Methods" window (*note ECB Methods::. So you can get an
   overlook over the source without changing the buffer in the edit-window.

 * Clicking on the source file with the secondary mouse button or C-RETURN
   (*note Usage of ECB::) will open the source file in the other edit window.

 * Right clicking on a source file will open a popup menu where different
   operation on the item under the mouse cursor can be performed.


File: ecb.info,  Node: ECB Methods,  Prev: ECB Sources,  Up: Overview

ECB Methods
===========

 * The "ECB-Methods" buffer contains the methods (and variables, if you want)
   in the selected source file. When a method/variable is selected with the
   primary mouse button (*note Using the mouse::) or RETURN (*note Using the
   keyboard::) the edit buffer will jump to the method/variable.

 * Clicking on a method/variable with the secondary mouse button or C-RETURN
   (*note Usage of ECB::) will jump to the method in the other edit window.


File: ecb.info,  Node: Activation and Deactivation,  Next: Usage of ECB,  Prev: Overview,  Up: Top

Activation and Deactivation
***************************

This chapter describes all aspects of activating and deactivating ECB.

* Menu:

* Standard activation::         How to manually (de)activate ECB
* Automatic activation::        Automaticaly (de)activating ECB


File: ecb.info,  Node: Standard activation,  Next: Automatic activation,  Prev: Activation and Deactivation,  Up: Activation and Deactivation

Standard activation and deactivation
====================================

Call `M-x ecb-activate' and `M-x ecb-deactivate' to activate or deactivate
ECB. If you want ECB started in a new frame see the option
`ecb-new-ecb-frame' (default is nil). `ecb-activate' always raises and
selects the ECB-frame even if ECB is already started.

Because ECB is a global minor-mode it can also be (de)activated/toggled by
`M-x ecb-minor-mode'.

The following sequence of hooks is evaluated during activation of ECB:
1. `ecb-before-activate-hook'

2. <All actions for activation but no layout drawing>

3. `ecb-activate-before-layout-draw-hook'

4. `ecb-redraw-layout-before-hook'

5. <Drawing the layout>

6. `ecb-redraw-layout-after-hook'

7. `ecb-activate-hook'

The following sequence of hooks is evaluated during deactivation of ECB:
1. `ecb-before-deactivate-hook'

2. <All actions for deactivation of ECB>

3. `ecb-deactivate-hook'


File: ecb.info,  Node: Automatic activation,  Prev: Standard activation,  Up: Activation and Deactivation

Automatic activation and deactivation
=====================================

There are three options for auto. (de)activation ECB after Emacs-start and
also major-mode based.

`ecb-auto-activate'
   This option is for auto. activating ECB after Emacs-startup. Set this to
   not nil and ECB will automaticaly be started after Emacs comes up.

`ecb-major-modes-activate'
`ecb-major-modes-deactivate'
   These option give you the possibility to activate (rsp. deactivate) ECB on
   a major-mode basis, means you can define for which major-modes ECB should
   be activated and for which modes it should deactivated (See *Note
   Activation hook-sequence:: and *Note Deactivation hook-sequence::).

   If activating or deactivating is too strong you can also customize ECB
   with these two option only hiding/showing it's ECB-windows (tree-buffers)
   on a major-mode basis. At last this is nothing more than auto. calling
   `ecb-toggle-ecb-windows' (*note Interactive ECB commands:: depending which
   major-mode is active.


File: ecb.info,  Node: Usage of ECB,  Next: Customizing,  Prev: Activation and Deactivation,  Up: Top

Usage of ECB
************

This chapter describes in a detailed manner all aspects of using the Emacs
Code Browser.

* Menu:

* Using the mouse::             Working with the mouse
* Using the keyboard::          Working with the keyboard
* The edit-window::             How to use the edit-window(s)
* Temp- and compile-buffers::   Displaying temp- and compilation-buffers
* The Methods buffer::          Using and customizing he Methods-buffer
* The ECB-layout::              Changing, customizing, redrawing, creating
* Hiding the ECB windows::      Hiding/Showing the ECB-windows
* Back/forward navigation::     Back- and forward navigation like a browser
* ECB-window synchronizing::    Auto./manual synchronizing the ECB-windows
* Interactive ECB commands::    All interactive user-commands of ECB


File: ecb.info,  Node: Using the mouse,  Next: Using the keyboard,  Prev: Usage of ECB,  Up: Usage of ECB

Working with the mouse in the ECB-windows
=========================================

Normally you get best usage if you use ECB with a mouse. ECB distinguishes
between a "primary" and a "secondary" mouse-button:

A click with the primary button causes the main effect in each ECB-buffer:

 - ECB Directories: Expanding/collapsing nodes and displaying files in the
   ECB-Sources buffer.

 - ECB sources/history: Opening the file in that edit-window specified by the
   option `ecb-primary-mouse-jump-destination'.

 - ECB Methods: Jumping to the method in that edit-window specified by the
   option `ecb-primary-mouse-jump-destination'.

Per default the complete node-name of an item in a tree-buffer is displayed in
the echo-area if the mouse moves over it, regardless if the related window is
the active one or not. You can get the same effect if you click with the
primary mouse-button onto a node while SHIFT is held. In general: Via
`ecb-show-node-info-in-minibuffer' you can specify in a detailled manner for
every ECB tree-buffer when and which node-info should be displayed in the
minibuffer.

IMPORTANT: Doing this SHIFT-click in the ECB-Sources or ECB-History windows
does not only show the node in the echo-area but it also opens the clicked
source only in the background and shows all its methods/variables in
ECB-Methods; the buffer of the edit-window is not changed! This is very
useful to get only an overlook for a certain source.

The secondary mouse-button is for opening (jumping to) the file in the other
window (see the documentation `ecb-primary-mouse-jump-destination').

With the option `ecb-primary-secondary-mouse-buttons' the following
combinations of primary and secondary mouse-buttons are possible:

 - primary: mouse-2, secondary: C-mouse-2(1). This is the default.

 - primary: mouse-1, secondary: C-mouse-1

 - primary: mouse-1, secondary: mouse-2

If you change this during ECB is activated you must deactivate and activate
ECB again to take effect

In each ECB-buffer mouse-3 (= right button) opens a special context popup-menu
for the clicked item where you can choose several senseful actions.

---------- Footnotes ----------

(1) means mouse-2 while CTRL-key is pressed.


File: ecb.info,  Node: Using the keyboard,  Next: The edit-window,  Prev: Using the mouse,  Up: Usage of ECB

Working with the keyboard in the ECB-windows
============================================

ECB offers the `ecb-mode-map' which binds the most important functions of ECB
to keys so you can easily use ECB in every window(1) without a mouse.

IMPORTANT: Do not modify `ecb-mode-map' directly! The option `ecb-key-map'
defines all ECB keybindings, including a common prefixkey (This is by default
`C-c .'). If there are conflicts with other minor-modes or packages you can
define very easy another prefix. Please read carefully the description of
`ecb-key-map' (*note ecb-general::).!

The following sections describe special topics about using the keyboard in
the ECB-tree-buffers:

* Menu:

* Navigation::                  Keyboard navigation in a tree-buffer
* Incremental search::          Find nodes as fast as possible
* Personal keybindings::        Adding personal keybindings to a tree-buffer

---------- Footnotes ----------

(1) Regardless if a tree-window or an edit-window


File: ecb.info,  Node: Navigation,  Next: Incremental search,  Prev: Using the keyboard,  Up: Using the keyboard

Navigation
----------

In the ECB-buffers RETURN and TAB are the most important keys:

 * RETURN does the same as the primary button and C-RETURN does the same as
   the secondary button. The terms primary and secondary are explained in
   *Note Using the mouse::. S-RETURN is the same as the SHIFT-click (*note
   ECB Sources::). See also the option `ecb-tree-RET-selects-edit-window' and
   the function `ecb-toggle-RET-selects-edit-window' which is bound to `C-t'
   in each tree-buffer of ECB!

 * TAB always expands or collapses expandable nodes.

The RETURN and TAB keys can not be (re)defined with `ecb-key-map'!

If you set `ecb-tree-navigation-by-arrow' to not nil then the left- and
right-arrow keys work in the ECB tree-window in the following smart way if
onto an expandable node:

 * Left-arrow: If node is expanded then it will be collapsed otherwise point
   jumps to the next "higher" node in the hierarchical tree (higher means the
   next higher level or - if no higher level available - the next higher node
   on the same level).

 * Right-arrow: If node is not expanded then it will be expanded.

Onto a not expandable node the horizontal arrow-keys go one character in the
senseful correct direction.


File: ecb.info,  Node: Incremental search,  Next: Personal keybindings,  Prev: Navigation,  Up: Using the keyboard

Incremental search for a node in current tree-buffer
----------------------------------------------------

Each displayable key (e.g. all keys normally bound to `self-insert-command')
is appended to the current seach-pattern. The tree-buffer tries to jump to the
first node which matching the current search-pattern either as substring or as
prefix (see below). If no match is found then nothing is done. There are some
special keys:

 * `backspace' and `delete': Delete the last character from the
   search-pattern.

 * `home': Delete the complete search-pattern

 * `end': Expand either to a complete node if current search-pattern is
   already unique or expands to the greates common substring or prefix of the
   nodes. If there are at least two nodes with the same greatest
   common-prefix than every hit of `end' jumps to the next node with this
   common prefix.

For better overlooking the current search-pattern is shown in the echo area.
After selecting a node with RET the search-pattern is cleared out. With
`ecb-tree-incremental-search' you can specify if the current search-pattern
must be a real prefix of the node (default) or if any substring is matched.

For faster and easier finding the right node in a ecb-window thi incremental
search ignores the following non interesting stuff:

 - any leading spaces

 - expand/collapse-buttons: [+] resp. [-]

 - protection-signs (+, -, #) in the method-window if uml-notation is used

 - variables types or returntypes in front of variable- or method-names.

 - const specifier for variables

This means: Just type in the prefix (resp. a substring) of a class-,
variable-, method-, directory- or filename and ECB will bring you as fast as
possible to the node you want. Incremental node-search uses the value of
`case-fold-search'.

Tip: The `ecb-minor-mode' offers you in the `ecb-mode-map' (customizable via
`ecb-key-map') some keys for selecting every window of the ecb-frame. This
makes window-selection a child´s play. For example you can jump into the
method-window by hitting `C-c . m'.


File: ecb.info,  Node: Personal keybindings,  Prev: Incremental search,  Up: Using the keyboard

Adding personal keybindings
---------------------------

There are five hooks which can be used for adding personal keybindings to the
ECB tree-buffers:

 - `ecb-common-tree-buffer-after-create-hook'

 - `ecb-directories-buffer-after-create-hook'

 - `ecb-sources-buffer-after-create-hook'

 - `ecb-methods-buffer-after-create-hook'

 - `ecb-history-buffer-after-create-hook'

These hooks are called directly after tree-buffer creation so they can be
used to add personal local keybindings(1) either to all tree-buffers
(`ecb-common-tree-buffer-after-create-hook') or just to a certain
tree-buffer. Here is a list which keys MUST NOT be rebind:

 * `RET' and all combinations with `Shift' and `Ctrl': Used for selecting
   nodes in all tree-buffers.

 * `TAB': Used for expanding/collapsing nodes in all tree-buffers.

 * `C-t': Used for toggling "jump after selection" in all tree-buffers, see
   command `ecb-toggle-RET-selects-edit-window'.

 * All self-inserting characters: Used for easy and fast navigation in all
   tree-buffers, *Note Incremental search::.

 * `F2', `F3', `F4': Used for customizing ECB, adding source-path in the
   directories buffer.

The following example binds `C-a' to some useful code in ALL tree-buffers and
`C-d' to even more useful code ONLY in the directories buffer:

   (add-hook 'ecb-common-tree-buffer-after-create-hook
             (lambda ()
                (local-set-key (kbd "C-a")
                               (lambda ()
                                  (interactive)
                                  (message "ECB is great!")))))
   
   (add-hook 'ecb-directories-buffer-after-create-hook
             (lambda ()
                (local-set-key (kbd "C-d")
                               (lambda ()
                                  (interactive)
                                  (message "ECB is wonderful!")))))

---------- Footnotes ----------

(1) To be more general: They can be used to run any arbitrary lisp code after
a tree-buffer creation!


File: ecb.info,  Node: The edit-window,  Next: Temp- and compile-buffers,  Prev: Using the keyboard,  Up: Usage of ECB

Working with the edit-window
============================

ECB offers you all what you need to work with the edit-window as if the
edit-window would be the only window of the ECB-frame.

ECB offers you to advice the following functions so they work best with ECB:

 - `other-window'

 - `delete-window'

 - `delete-other-windows'

 - `delete-windows-on'

 - `split-window-horizontally'

 - `split-window-vertically'

 - `switch-to-buffer'

 - `switch-to-buffer-other-window'

 - `other-window-for-scrolling'

The behavior of the adviced functions is:

 * All these adviced functions behaves exactly like their corresponding
   original functons but they always act as if the edit-window(s) of ECB
   would be the only window(s) of the ECB-frame. So the edit-window(s) of ECB
   seems to be a normal Emacs-frame to the user.

 * If called in a not edit-window of ECB all these function jumps first to
   the (first) edit-window, so you can never destroy the ECB-window layout
   unintentionally.

 * If called in another frame than the ECB-frame these functions behave
   exactly like the not adviced original versions!

ATTENTION: If you want to work within the edit-window with splitting and
unsplitting the edit-window(s) it is highly recommended to use the
adviced-functions of ECB instead of the original Emacs-functions (see above).
Per default ECB does advice all of the functions mentioned above but with the
option `ecb-advice-window-functions' you can customizes which functions
should be adviced by ECB. Please read carefully the documentation of this
option!

Another interesting option in the context of the edit-window and these
adviced functions is `ecb-layout-always-operate-in-edit-window'!


File: ecb.info,  Node: Temp- and compile-buffers,  Next: The Methods buffer,  Prev: The edit-window,  Up: Usage of ECB

Temp- and compile-buffers display in ECB
========================================

If you call any help in Emacs, e.g. by calling `describe-function', or if you
do a completion in the minibuffer, then Emacs displays the result-buffer in
another window. This behavior you have also in ECB.  If the edit-window is
already splitted then the temp-buffer is displayed in the "other" edit-window
otherwise the edit-window will be splitted first. The variables
`temp-buffer-max-height' and `temp-buffer-resize-mode' work also correctly
with ECB.

Same for all compilation output-buffers (e.g. after a `compile' or `grep')
and the variable `compilation-window-height'.

In general: With the options `ecb-compilation-buffer-names' and
`ecb-compilation-major-modes' you can define which buffers should be
displayed in the compile-window of ECB for example if you call
`switch-to-buffer' for a buffer.

This is default behavior of ECB. But there is also another way to display
such buffers:

 * With the option `ecb-compile-window-height' you can define if the ECB
   layout should contain per default a compilation-window at the bottom (and
   if yes the height of it). If yes ECB displays all output of
   compilation-mode (compile, grep etc.) in this special window. Same for
   displaying help-buffers or similar stuff.

 * With the option `ecb-compile-window-temporally-enlarge' you can allow
   Emacs to enlarge temporally the ECB-compile-window in some situations.
   Please read the comment of this option. See also the description of the
   function `ecb-toggle-enlarged-compilation-window'.

 * With the option `ecb-layout-switch-to-compilation-window' you can modify
   the switch-to-buffer...-functions to work best if your layout contains a
   compilation-window. See the docstring of this option.

   But because ECB works best without such a durable compilation-window you
   should read the documentation of these three options carefully!

 * With the command `ecb-cycle-through-compilation-buffers' (*note
   Interactive ECB commands::) you can cycle through all current open
   compilation-buffers in the sense of `ecb-compilation-buffer-p' very fast.


File: ecb.info,  Node: The Methods buffer,  Next: The ECB-layout,  Prev: Temp- and compile-buffers,  Up: Usage of ECB

Using and customizing the ECB-Methods buffer
============================================

This chapter describes how to use and customize the Methods-buffer of ECB.

* Menu:

* Customizing the display::     How to customize the Methods-buffer display
* Rebuilding the Methods::      When to rebuild the Methods-buffer


File: ecb.info,  Node: Customizing the display,  Next: Rebuilding the Methods,  Prev: The Methods buffer,  Up: The Methods buffer

Customizing the display of the Methods-buffer
---------------------------------------------

The ECB-Methods buffer is probably the most important browsing window offered
by ECB. It displays all semantic informations of the current buffer in the
edit-window.

ECB gets all informations displayed in this Methods-buffer from the
semantic-library. This library parses auto. the current source-buffer in the
edit-window of ECB and returns all information in form of "tokens" to ECB
which displays them in a browsable form in its Method-buffer. See *Note ECB
Methods:: for information how to use the Methods-buffer.

There are several options to customize which tokens ECB should display in
general, if the tokens should be collapsed or expanded, how to fontify them
(i.e. syntax-highlighting) and something more.

`ecb-show-tokens'
   Which semantic-tokens (e.g. types, methods, variables etc.) should be
   displayed and should they be collapsed, flattened or expanded. Sorting is
   also possible.

`ecb-font-lock-tokens'
`ecb-type-token-display'
   How to fontify the tokens in the Method-buffer

`ecb-token-display-function'
   ECB and semantic offer several predefined functions for displaying the
   tokens. Here you can customize, what informations tokens should contain
   (only the method-name or the whole signature or something else) and what
   notation should be used, e.g. UML or not.

These are the most important options for this topic but it is recommended to
have a look into the customize-group `ecb-methods' (*note ecb-methods::) and
check all the options offered there!


File: ecb.info,  Node: Rebuilding the Methods,  Prev: Customizing the display,  Up: The Methods buffer

Rebuilding the Methods-buffer
-----------------------------

In almost all cases there is *NO* need to manually rebuild the method-buffer,
because it is always done automatically if necessary.  But nevertheless there
exist a few rare scenarios where a complete manual rebuild can be necessary.
Here is one example:

Depending on the semantic-version: If an elisp-file is parsed which contains
a defun X in the middle where the closing ) is missing, then semantic parses
only until this defun X is reached and you will get an incomplete ECB-method
buffer. In such a case you must complete the defun X and then completely
reparse the elisp-file and rebuild the ECB method buffer!

A complete manually rebuild is done by `ecb-rebuild-methods-buffer'.


File: ecb.info,  Node: The ECB-layout,  Next: Hiding the ECB windows,  Prev: The Methods buffer,  Up: Usage of ECB

Changing, customizing, redrawing and creating layouts
=====================================================

The term "ECB-layout" means in which windows the ECB-frame is divided. This
chapter describes all aspects concerning this layout, especially changing,
customizing, redrawing and also creating new layouts.

* Menu:

* Changing the ECB-layout::     How to change and customize the layout
* Redrawing the ECB-layout::    How and when redrawing the layout
* Creating a new ECB-layout::   Interactively creating new layouts


File: ecb.info,  Node: Changing the ECB-layout,  Next: Redrawing the ECB-layout,  Prev: The ECB-layout,  Up: The ECB-layout

Changing and customizing the ECB-layout
---------------------------------------

ECB offers several predefined layouts with different sets and also different
locations of ECB-windows. See below the "ascii-screenshot" of all currently
buildin layouts(1).

In addition to these predefined layouts you can either interactively create
new layouts "by example" (*note Creating a new ECB-layout::) or program new
layouts with the macro `ecb-layout-define' (*note The layout-engine::). The
former method is the recommened one!

There are two ways to interactively change the layout:
 * Changing permanently: Customize the option `ecb-layout-name' and store it
   for future Emacs sessions.

 * Switching between several layouts at runtime: If you want to switch fast
   between a certain sequence of layouts see the option
   `ecb-toggle-layout-sequence' and the command `ecb-toggle-layout' (*note
   Simulating speedbar::). For just selecting another layout during current
   Emacs-session use the command `ecb-change-layout'.

With the option `ecb-show-sources-in-directories-buffer' you can define if
sources are displayed in the directory-window of a layout (*note ECB
Directories::).

In addition to the general layout you can specify if the layout should
contain a durable compilation-window at the bottom of the frame, see
`ecb-compile-window-height' (*note Temp- and compile-buffers::).

Maybe you want also change the look&feel of the tree-buffers. Then you can
change the location of the collapse- and expand-symbols and the indendation
of sub-nodes in a tree. See `ecb-tree-indent' and
`ecb-tree-expand-symbol-before'.

Here are all currently available layouts (for creating own new layouts see
*Note Creating a new ECB-layout::); just customize the option
`ecb-layout-name' to the related name:

Layout "left1"
      -------------------------------------------------------
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |      |       |                                      |
      | Sour | Hist  |                 Edit                 |
      |      |       |                                      |
      |      |       |                                      |
      |--------------|                                      |
      |              |                                      |
      |  Methods     |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left2"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Sources     |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left3"
      -------------------------------------------------------
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  Sources     |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  Methods     |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left4"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                 Edit                 |
      |      |       |                                      |
      |      |       |                                      |
      |      |       |                                      |
      | Sour | Hist  |                                      |
      |      |       |                                      |
      |      |       |                                      |
      |      |       |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left5"
      -------------------------------------------------------
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  Sources     |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  History     |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "right1"
      -------------------------------------------------------
      |                                      |              |
      |                                      |  Directories |
      |                                      |              |
      |                                      |              |
      |                                      |--------------|
      |                                      |              |
      |                                      |              |
      |             Edit                     |  Sources     |
      |                                      |              |
      |                                      |              |
      |                                      |--------------|
      |                                      |              |
      |                                      |  Methods     |
      |                                      |              |
      |                                      |              |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left6"
      -------------------------------------------------------
      |  Sources     |                                      |
      |--------------|                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Methods     |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |  History     |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "top1"
      -------------------------------------------------------
      |                        |             |              |
      |                        |             |              |
      |      Directories       |  Sources    |  Methods     |
      |                        |             |              |
      |                        |             |              |
      |-----------------------------------------------------|
      |                                                     |
      |                                                     |
      |                                                     |
      |                                                     |
      |                    Edit                             |
      |                                                     |
      |                                                     |
      |                                                     |
      |                                                     |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left7"
      -------------------------------------------------------
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                 Edit                 |
      |              |                                      |
      |  History     |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  Methods     |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left8"
      -------------------------------------------------------
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  Sources     |                                      |
      |              |                                      |
      |--------------|                 Edit                 |
      |              |                                      |
      |  Methods     |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |  History     |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "top2"
      -------------------------------------------------------
      |                                                     |
      |                                                     |
      |                    Methods                          |
      |                                                     |
      |                                                     |
      |-----------------------------------------------------|
      |                                                     |
      |                                                     |
      |                                                     |
      |                                                     |
      |                    Edit                             |
      |                                                     |
      |                                                     |
      |                                                     |
      |                                                     |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left9"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |   Methods    |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left10"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Methods     |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |      |       |                                      |
      | Sou  | Hist  |                                      |
      |      |       |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left11"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Methods     |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  History     |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left12"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |   History    |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left13"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      | Directories  |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left14"
      -------------------------------------------------------
      |              |                                      |
      |              |                                      |
      |              |                                      |
      | Directories  |                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                                      |
      |              |                                      |
      |  History     |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "left15"
      -------------------------------------------------------
      |              |                                      |
      |  Directories |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |--------------|                 Edit                 |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      |  Methods     |                                      |
      |              |                                      |
      |              |                                      |
      |              |                                      |
      -------------------------------------------------------
      |                                                     |
      |                    Compilation                      |
      |                                                     |
      -------------------------------------------------------

Layout "leftright1"
      -------------------------------------------------------
      |             |                         |             |
      | Directories |                         |  Methods    |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |-------------|          Edit           |             |
      |             |                         |             |
      | Sources     |                         |             |
      |             |                         |             |
      |-------------|                         |             |
      |             |                         |             |
      | History     |                         |             |
      |             |                         |             |
      -------------------------------------------------------
      |                                                     |
      |                   Compilation                       |
      |                                                     |
      -------------------------------------------------------

Layout "leftright2"
      -------------------------------------------------------
      |             |                         |             |
      | Directories |                         |  Methods    |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |             |          Edit           |             |
      |-------------|                         |-------------|
      |             |                         |             |
      | Sources     |                         |  History    |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      |             |                         |             |
      -------------------------------------------------------
      |                                                     |
      |                   Compilation                       |
      |                                                     |
      -------------------------------------------------------

---------- Footnotes ----------

(1) The command `ecb-show-layout-help'' shows the outline-picture for all
buildin layouts.


File: ecb.info,  Node: Redrawing the ECB-layout,  Next: Creating a new ECB-layout,  Prev: Changing the ECB-layout,  Up: The ECB-layout

Redrawing the ECB-layout
------------------------

If you have unintenionally destroyed the ECB-layout, you can always restore
the layout with calling `ecb-redraw-layout'. This is even true, if you get
messages like "wrong-type-argument window-live-p #<window 222>".

If the variable `ecb-redraw-layout-quickly' is not nil then the redraw is
done by the `ecb-redraw-layout-quickly' function, otherwise by
`ecb-redraw-layout-full'. But it's strongly recommended to use the quick
redraw only if you have really slow machines where a full redraw takes
several seconds because the quick redraw is not really safe and may have some
drawbacks! On normal machines the full redraw should be done in << 1s!

See also the hooks `ecb-redraw-layout-after-hook' and
`ecb-redraw-layout-before-hook'!


File: ecb.info,  Node: Creating a new ECB-layout,  Prev: Redrawing the ECB-layout,  Up: The ECB-layout

Interactively creating new layouts
----------------------------------

*For Emacs 20.X users:*

Creating new layouts is only possible (but nevertheless quite easy) by
programming them with emacs-lisp, see *Note The layout-engine::.

*For Emacs 21.X and XEmacs 21.X*

If you want to create your own ECB-layout then you can do this very easy "by
example" with the command `ecb-create-new-layout'.  This command creates a
new empty frame and offers a small set of keys to create the new layout by
splitting windows.  `ecb-create-new-layout' and this couple of keys are your
guide during the layout-creation-process(1).

After calling `ecb-create-new-layout' you will be asked which type of layout
you want to create: "left", "right", "top" or "left-right". Here you specify
where the ECB-tree-windows/buffers should be located in the ECB-frame:

 - left: All ECB-tree-windows are located on the left side

 - right: All ECB-tree-windows are located on the right side

 - top: All ECB-tree-windows are located on the top side

 - left-right: All ECB-tree-windows are located on the left and right side

Depending on the type you choose the window is splitted by the values of the
options `ecb-windows-width' (types "left", "right" and "left-right") or
`ecb-windows-height' (type "top").

Afterwards you will see a frame like follows (here the layout-type is
"left-right"):

   -----------------------------------------------------------------
   |<point>       |                                   |            |
   |              | ECB-layout creation mode          |            |
   |              | ========================          |            |
   |              |                                   |            |
   |              | <This is a durable help-screen>   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   |              |                                   |            |
   -----------------------------------------------------------------
                  |
                  |   ,---
                  `---| Splitted by the value of `ecb-windows-width'.
                      `---

The big window (here the middle window) will be the edit-window of the new
layout and can not be selected, deleted or splitted during the creation
process. It displays the help-screen for the layout-creation mode. Here all
the available commands are displayed.

The small window(s) (here the left and right windows) can be splitted by you
wherever you want (`C-s'). The left one contains the point.  You must give
every ECB-tree-window you create a type (`C-t') which can be either
"directories", "sources", "methods" or "history".

If you are satisfied with your new layout just hit `C-q'. You will be asked
for a new layout-name (TAB-completion is offered to get a list of all names
already in use) and after inserting a new(!) name the new layout is saved in
the file defined by the option `ecb-create-layout-file'. The new layout is
now available via the option `ecb-layout-name'.

There is no need for you to load the file `ecb-create-layout-file' manually
into your Emacs because it's automatically loaded by ECB!

*NOTE*: During the layout-creation process only the commands displayed in the
help-screen are available. ALL other commands are temporaly disabled (even
the mouse-commands).

For programming new layouts with emacs-lisp see *Note The layout-engine::.

With the command `ecb-delete-new-layout' you can delete previously created
layouts (TAB-completion is offered for all names of user created layouts).

---------- Footnotes ----------

(1) During the creation process you will be asked in the minibuffer for
several options; here you can use TAB-completion and an "empty" RET chooses
always the first option!


File: ecb.info,  Node: Hiding the ECB windows,  Next: Back/forward navigation,  Prev: The ECB-layout,  Up: Usage of ECB

Hiding/Showing the ECB windows
==============================

With `ecb-toggle-ecb-windows', `ecb-hide-ecb-windows' and
`ecb-show-ecb-windows' you can hide/show all the ECB windows without changing
the activation state of ECB and also without deactivating the advices for
`delete-other-windows' and/or `delete-window'. This is most useful if you use
a layout like "top2" (*note Tips and tricks::) or if you want to have maximum
space for editing and you don't need the browsing windows all the time.

The following sequence of hooks is evaluated during showing again the hidden
ECB-windows:
1. `ecb-show-ecb-windows-before-hook'

2. `ecb-redraw-layout-before-hook'

3. <Redrawing the layout to show the hidden ECB-windows>

4. `ecb-redraw-layout-after-hook'

5. `ecb-show-ecb-windows-after-hook'

The following sequence of hooks is evaluated during hidding the ECB-windows:
1. `ecb-hide-ecb-windows-before-hook'

2. <Hidding the ECB-windows>

3. `ecb-hide-ecb-windows-after-hook'


File: ecb.info,  Node: Back/forward navigation,  Next: ECB-window synchronizing,  Prev: Hiding the ECB windows,  Up: Usage of ECB

Back- and forward navigation like a browser
===========================================

With ECB you can "browse" in your source-files like with a web-browser. This
means ECB stores the current buffer- and window-position relative to the
current token(1) in the edit-window after

 - selecting a token in the ECB-methods buffer or

 - selecting a source-file in the ECB-sources/history-buffer.

ECB offers two commands `ecb-nav-goto-next' (`C-c . n') and
`ecb-nav-goto-previous' (`C-c . p') to go forward and backward within this
navigation historylist. These commands are also available via the menu "ECB
-> Navigate".

Aside normal "location-browsing" this is usefull for example in a scenario
where `ecb-token-jump-narrow' is activated:

1. You edit a function

2. Goto another function above the current in the same file

3. Add a few lines

4. Call ecb-nav-goto-previous

   Now you will edit at the same place in the function.

---------- Footnotes ----------

(1) e.g. a method, a variable or any other semantic token


File: ecb.info,  Node: ECB-window synchronizing,  Next: Interactive ECB commands,  Prev: Back/forward navigation,  Up: Usage of ECB

Synchronization of the ECB-windows
==================================

Per default ECB synchronizes automatically the contents of the
ECB-windows/tree-buffers with the current active edit-window (rsp. the
current buffer of the edit window):

 * ECB-directories:

   This windows is synchronized to display the directory where the
   source-file which is displayed in the edit-window is located. If the
   source-path (i.e. an element of the option `ecb-source-path') containing
   this directory is not expanded it will be auto. expanded according to the
   value of the option `ecb-auto-expand-directory-tree' (*note
   ecb-directories::).

 * ECB-sources:

   The ECB-sources-buffer contains after synchronizing all the sources of the
   directory of the "current" source-file displayed in the edit-window. The
   entry of the "current" source-file is highlighted.

 * ECB-methods:

   Contains after synchronizing all the tokens of the buffer in the
   edit-window, i.e. all methods, variables etc... depending of the
   major-mode.

 * ECB-history:

   Highlights the entry of the buffer displayed in the edit-window if this
   buffer is a source-file.


This feature can be customized with the option `ecb-window-sync':

If active then the synchronization takes place always a buffer changes in the
edit window, if deactivated then never. But you can also set this option to a
list of major-modes and then the sync. will only be done if the major-mode of
the current buffer belongs NOT to this list.

But in every case the synchronization takes only place if the major-mode of
the current-buffer in the edit-window has a relation to files or directories.
Examples for the former one are all programming-language-modes like
`c++-mode' or `java-mode', `Info-mode' too, an example for the latter one is
`dired-mode'. For all major-modes related to non-file/directory-buffers like
`help-mode', `customize-mode' and others never a synchronization will be done!

It's recommended to exclude at least `Info-mode' because it makes no sense to
synchronize the ECB-windows after calling the Info help.  Per default also
`dired-mode' is excluded but it can also making sense to synchronize the
ECB-directories/sources windows with the current directory of the
dired-buffer in the edit-window.

*NOTE*: With the command `ecb-current-buffer-sync' you can do a manually
synchronization if the automatic one is switched off or if you just want to
do this!


File: ecb.info,  Node: Interactive ECB commands,  Prev: ECB-window synchronizing,  Up: Usage of ECB

Interactive ECB commands
========================

ECB offers a lot of interactive commands. Some of these commands prompt the
user in the minibuffer if called with a prefix argument.

Example: If `ecb-clear-history' is called with a prefix argument then you
will be prompted in the minibuffer with:

   Clear from history: [all, not-existing-buffers, existing-buffers]

You can choose one of the options enclosed in brackets with TAB-completion;
hitting RET direct after the prompt chooses auto. the first offered option
(in the example above "all").

*Note*: The following interactive commands of ECB are listed without the
prefix "ecb-" (e.g. the command `ecb-activate' is listed with name
"activate"). This has been done for a better readable command index. *Note
Command Index::.

 - Command: activate
   Activates the ECB and creates all the buffers and draws the ECB-screen
   with the actually choosen layout (see `ecb-layout-name'). This function
   raises always the ECB-frame if called from another frame. This is the same
   as calling `ecb-minor-mode' with a positive argument.

 - Command: add-all-buffers-to-history
   Add all current file-buffers to the history-buffer of ECB.

 - Command: change-layout &optional preselect-type
   Select a layout-name from all current available layouts (TAB-completion is
   offered) and change the layout to the selected layout-name. If optional
   argument PRESELECT-TYPE is not nil then you can preselect a layout-type
   \(TAB-completion is offered too) and then you will be asked only for
   layouts of that preselected type. Note: This function works by changing
   the option `ecb-layout-name' but only for current Emacs-session.

 - Command: clear-history &optional clearall
   Clears the ECB history-buffer. If CLEARALL is `nil' then the behavior is
   defined in the option `ecb-clear-history-behavior' otherwise the user is
   prompted what buffers should be cleared from the history-buffer. For
   further explanation see `ecb-clear-history-behavior'.

 - Command: create-new-layout
   Start process for interactively creating a new ECB-layout (*note Creating
   a new ECB-layout::).

 - Command: current-buffer-sync &optional force
   Synchronizes the current buffer with any other buffers.

   Depending on the contents of current buffer this function performs
   different synchronizing tasks but only if ECB is active and point stays in
   an edit-window. If this is true under the following additional conditions
   some tasks are performed:

    * Current buffer is a file-buffer and either FORCE is not nil or the
      buffer is different from the source-file currently displayed in the
      ECB-tree-buffers:

      Synchronizing all `tree-buffers' with the current buffer

    * Current buffer is a dired-buffer:

      Synchronizing the directory- and sources-tree-buffer if visible

    * Always:

      Running the hooks in `ecb-current-buffer-sync-hook'.

 - Command: cycle-through-compilation-buffers &optional choose-buffer
   Cycle through all compilation buffers currently open and display them
   within the compilation window `ecb-compile-window'. If the currently
   opened buffer within the compilation window is not a compilation buffer,
   we jump to the first compilation buffer. If not we try to loop through all
   compilation buffers. If we hit the end we go back to the beginning.

   If CHOOSE-BUFFER is not `nil' then the user will be prompted for the
   compilation-buffer to swtich to.

   See also the option `ecb-layout-switch-to-compilation-window'!  The
   difference is that this cycling-function offers only compilation-buffers
   in the sense of `ecb-compilation-buffer-p' whereas the adviced version of
   `switch-to-buffer' offers any buffer but switches to `ecb-compile-window'
   if a compilation-buffer!

 - Command: deactivate
   Deactivates the ECB and kills all ECB buffers and windows.

 - Command: delete-new-layout
   Select a layout-name for a layout created by `ecb-create-new-layout' and
   delete this layout. This means the layout-definiton is removed from the
   file `ecb-create-layout-file' and the layout-function and associated
   aliases are unbound.

 - Command: display-upgraded-options
   Display a message-buffer which options have been upgraded or reset.

 - Command: download-ecb
   Download ECB from the ECB-website and install it. For this the options
   `ecb-download-url' and `ecb-download-version' must be set correct, whereas
   the default value of the former one should always be correct.

   For details about downloading and what requirements must be satisfied see
   *Note Downloading new versions::!

   After sucessfull downloading the new ECB will be installed in a directory
   parallel to current ECB-directory. After adding this new directory tp
   `load-path' and restarting Emacs the new ECB version can be activated by
   `ecb-activate'.

 - Command: goto-window-compilation
   Goto the ecb compilation window `ecb-compile-window'.

 - Command: goto-window-directories
   Make the ECB-directories window the current window.

 - Command: goto-window-edit1
   Make the (first) edit-window window the current window.

 - Command: goto-window-edit2
   Make the second edit-window (if available) window the current window.

 - Command: goto-window-history
   Make the ECB-history window the current window.

 - Command: goto-window-methods
   Make the ECB-methods window the current window.

 - Command: goto-window-sources
   Make the ECB-sources window the current window.

 - Command: minor-mode &optional arg
   Toggle ECB minor mode. With prefix argument ARG, turn on if positive,
   otherwise off. Return non-`nil' if the minor mode is enabled.

 - Command: nav-goto-previous
   Go backward in the navigation historylist, see *Note Back/forward
   navigation::.

 - Command: nav-goto-next
   Go forward in the navigation historylist, see *Note Back/forward
   navigation::.

 - Command: rebuild-methods-buffer
   Updates the methods buffer with the current buffer after deleting the
   complete previous parser-information, means no semantic-cache is used!
   Point must stay in an edit-window otherwise nothing is done. This method
   is merely needed if semantic parses not the whole buffer because it
   reaches a not parsable code. Examples when a call to this function is
   necessary:

   If an elisp-file is parsed which contains in the middle a defun X where
   the closing ) is missing then semantic parses only until this defun X is
   reached and you will get an incomplete ECB-method buffer.  In such a case
   you must complete the defun X and then call this function to completely
   reparse the elisp-file and rebuild the ECB method buffer!

   If you change only the name of a method or a variable and you want the new
   name be shown immediately in the ECB-method buffer then you must call this
   function.

 - Command: redraw-layout
   Redraw the ECB screen. If the variable `ecb-redraw-layout-quickly' is not
   nil then the redraw is done by the `ecb-redraw-layout-quickly' function,
   otherwise by `ecb-redraw-layout-full'. But it's strongly recommended to
   use the quick redraw only if you have really slow machines where a full
   redraw takes several seconds because the quick redraw is not really safe
   and may have some drawbacks! On normal machines the full drawback should
   be done in << 1s!

 - Command: show-help &optional format
   Shows the online help of ECB either in Info or in HTML format depending of
   the value of `ecb-show-help-format'. If called with prefix argument, i.e.
   if FORMAT is not nil then the user is prompted to choose the format of the
   help (Info or HTML). If an error about not finding the needed help-file
   occurs please take a look at the options `ecb-help-info-start-file' and
   `ecb-help-html-start-file'!

 - Command: show-layout-help
   Select a name of a layout and shows the documentation of the associated
   layout-function. At least for the buildin layouts the documentation
   contains a picture of the outline of the choosen layout.

 - Command: submit-problem-report
   Submit a problem report for the ECB to the ECB mailing-list. This command
   generates in the edit-window a problem-report which contains already the
   current values of all ECB options, the current backtrace-buffer if there
   is any and the current message-buffer. You will be asked for a
   problem-report subject and then you must insert a description of the
   problem. Please describe the problem as detailed as possible!

 - Command: toggle-ecb-windows &optional arg
   Toggle visibilty of the ECB-windows. With prefix argument ARG, make
   visible if positive, otherwise invisible. This has nothing to do with
   (de)activating ECB but only affects the visibility of the ECB windows. ECB
   minor mode remains active!

 - Command: toggle-enlarged-compilation-window &optional arg
   Toggle whether the `ecb-compile-window' is enlarged or not. If ARG > 0
   then enlarge to a sensefull value (see below), if ARG <= 0 then shrink
   `ecb-compile-window' to `ecb-compile-window-height' and if ARG is nil then
   toggle the enlarge-state.

   The `ecb-compile-window' is enlarged to the value of
   `ecb-enlarged-compilation-window-max-height'.!

 - Command: toggle-layout
   Toggles between the layouts defined in `ecb-toggle-layout-sequence' (See
   also option `ecb-show-sources-in-directories-buffer'). Note: This function
   works by changing the options `ecb-layout-name' but only for current
   Emacs-session.

 - Command: update-directories-buffer
   Updates the ECB directories buffer.

 - Command: upgrade-options
   Check for all ECB-options if their current value is compatible to the
   defined type. If not upgrade it to the new type or reset it to the
   default-value of current ECB. Try also to upgrade renamed options.
   Displays all upgraded or reset options with their old (before the
   upgrade/reset) and new values.

Most of these functions are also available via the menu "ECB" and also via
the ECB keymap with prefix `C-c .' (see `ecb-minor-mode' for a complete list
of the keybindings).


File: ecb.info,  Node: Customizing,  Next: Submitting problem report,  Prev: Usage of ECB,  Up: Top

Customizing ECB
***************

This chapter describes how to customize ECB for your personal taste.  The
first section introduces some general aspects (which you should really
know!), the second one gives an overview of the most important options and
the third one lists all options of ECB (divided into the customize groups).

* Menu:

* General aspects::             General aspects for customizing ECB
* Most important options::      Which option you must know
* Customizable options::        All customizable options of ECB


File: ecb.info,  Node: General aspects,  Next: Most important options,  Prev: Customizing,  Up: Customizing

General aspects for customizing ECB
===================================

The best way to customize all the options of ECB is via the customize-feature
of (X)Emacs, i.e. means calling the commands `customize-option' or
`customize-group' etc. This is also the strongly recommended way!

But of course you can also use `setq' or some elisp-code to change the values
of many but not all of the options. The values of the following options *MUST
NOT* be changed via `setq' or elisp-code but only with the customize-feature!

`ecb-advice-window-functions'           `ecb-bucket-token-display'
`ecb-compile-window-height'             `ecb-compile-window-temporally-enlarge'
`ecb-exclude-parents-regexp'            `ecb-font-lock-tokens'
`ecb-highlight-token-with-point-delay'  `ecb-key-map'
`ecb-layout-name'                       `ecb-layout-window-sizes'
`ecb-mode-line-prefixes'                `ecb-show-node-info-in-minibuffer'
`ecb-show-tokens'                       `ecb-source-path'
`ecb-token-display-function'            `ecb-tree-RET-selects-edit-window'
`ecb-type-token-display'                `ecb-windows-height'
`ecb-window-sync-delay'                 `ecb-windows-width'
`ecb-use-speedbar-for-directories'      `ecb-toggle-layout-sequence'

*NOTE*: If you are the administrator for an Emacs-site, means you are
responsible for the basic customization of a lot of Emacs users, then you
maybe need a way to customize Emacs and ECB without changing everyones
`.emacs'-file and normally you will do this with the file `site-start.el'.
You can customize all options of ECB in a central `site-start.el' (even the
options mentioned above!) but you *MUST NOT* do this via `setq' but you have
to use `custom-set-variables'(1)! Here is a short example how this can be
done:

   (custom-set-variables '(ecb-show-tokens ((include collapsed nil)
                                            (parent collapsed nil)
                                            (type flattened nil)
                                            (variable collapsed name)
                                            (function flattened name)
                                            (rule flattened name)
                                            (section flattened nil)
                                            (def collapsed name)
                                            (t collapsed name)))
                         '(ecb-font-lock-tokens t)
                         ;; add here more options of ECB it you want
                         )

But ensure that you customize the options with the correct lisp format. Read
carefully the docstrings of the options you want to customize from within
elisp-code!

---------- Footnotes ----------

(1) At least for the options for which `setq' is explicitly forbidden, but it
is recommended to use always `custom-set-variables'!


File: ecb.info,  Node: Most important options,  Next: Customizable options,  Prev: General aspects,  Up: Customizing

The most important options of ECB
=================================

Here are the most important options (it is recommended to check at least the
following options before working with ECB):

`ecb-source-path'
   Where ECB can find your sources. You must set this option!

`ecb-show-help-format'
   Should the online help of ECB be displayed in the standard Info format or
   in HTML format in a web-browser.

`ecb-auto-activate'
`ecb-major-modes-activate'
`ecb-major-modes-deactivate'
   Auto. (de)activation of ECB

`ecb-key-map'
   All ECB-keybindings incl. a common prefixkey (*note Using the keyboard::).

`ecb-new-ecb-frame'
   Should ECB create a new frame at activation time.

`ecb-primary-secondary-mouse-buttons'
`ecb-primary-mouse-jump-destination'
   Define how to use the mouse (*note Using the mouse::).

`ecb-tree-expand-symbol-before'
`ecb-tree-indent'
   The look&feel of the trees in the tree-buffers. Maybe you like a value of
   4 for the latter one if you display the expand-symbol before (*note
   Changing the ECB-layout::).

`ecb-source-file-regexps'
   Which files will (not) be shown in ECB.

`ecb-show-node-info-in-minibuffer'
   When and which node-info should be displayed in the minibuffer?

`ecb-layout-name'
   The ECB layout, means which windows you want to be displayed in the
   ECB-frame and also the location of these windows (*note Changing the
   ECB-layout::).

`ecb-token-display-function'
`ecb-type-token-display'
`ecb-show-tokens'
   How to display the entries in the ECB-method window (*note Customizing the
   display::).

But to make ECB working best for you it is also recommened to have a look at
*Note Customizable options::!


File: ecb.info,  Node: Customizable options,  Prev: Most important options,  Up: Customizing

All customizable options of ECB
===============================

All customization of ECB is divided into the following "customize groups".
You can highly customize all the ECB behavior/layout so just go to these
groups and you will see all well documented ECB-options.

*Note*: All options in the following subsections are listed without the
prefix "ecb-" (e.g. the option `ecb-layout-name' is listed with name
"layout-name"). This has been done for a better readable option index. *Note
Option Index::.

* Menu:

* ecb-general::                 General customizing ECB
* ecb-directories::             Customizing the ECB-directories
* ecb-sources::                 Customizing the ECB-sources
* ecb-methods::                 Customizing the ECB-methods
* ecb-history::                 Customizing the ECB-history
* ecb-layout::                  Customizing the ECB-layout
* ecb-compilation-content::     Customizing the compile-window contents
* ecb-create-layout::           Customizing options for creating layouts
* ecb-face-options::            Customizing options for faces
* ecb-faces::                   Customizing the faces
* ecb-download::                Customizing how to download ECB
* ecb-help::                    Customizing the online help of ECB
* ecb-eshell::                  Customizing the eshell-integration


File: ecb.info,  Node: ecb-general,  Next: ecb-directories,  Prev: Customizable options,  Up: Customizable options

Group ecb-general
-----------------

This group contains the following options:

 - User Option: activate-before-layout-draw-hook
   Normal hook run at the end of activating the ecb-package by running
   `ecb-activate'. This hooks are run after all the internal setup process
   but directly before(!) drawing the layout specified in `ecb-layout' (means
   before dividing the frame into several windows).

   A senseful using of this hook can be maximizing the Emacs-frame for
   example, because this should be done before the layout is drawn because
   ECB computes the size of the ECB-windows with the current frame size! If
   you need a hook-option for the real end of the activating process (i.e.
   after the layout-drawing) look at `ecb-activate-hook'.

   IMPORTANT: The difference between this hook and
   `ecb-redraw-layout-before-hook' is that the latter one is evaluated always
   before the layout is redrawn (for example after calling
   `ecb-redraw-layout') whereas the former one (this hook) is only evaluated
   exactly once during the activation-process of ECB.  So during the
   activation process there is the following sequence of hooks:
   1. `ecb-activate-before-layout-draw-hook' \(this one)

   2. `ecb-redraw-layout-before-hook'

   3. <Drawing the layout>

   4. `ecb-redraw-layout-after-hook'

   5. `ecb-activate-hook'

 - User Option: activate-hook
   Normal hook run at the end of activating the ecb-package by running
   `ecb-activate'. This hooks are run at the real end of the activating
   process, means after the layout has been drawn!. If you need hooks which
   are run direct before the layout-drawing look at
   `ecb-activate-before-layout-draw-hook'.

 - User Option: auto-activate
   Automatically startup ECB when Emacs starts up. This should only be true
   if you always want to run `ecb-activate'.

 - User Option: auto-compatibility-check
   Check at ECB-startup if all ECB-options have correct values. If not nil
   then all ECB-options are checked if their current value have the correct
   type. It the type is incorrect the option is either auto.  upgraded to the
   new type or reset to the default-value of current ECB if no upgrade is
   possible. This feature can also upgrade options which are renamed in
   current ECB and try to transform the old-value to the new named option.
   After startup all upgraded or reset options are displayed with their old
   (before upgrade/reset) and new values. See also the commands
   `ecb-upgrade-options' and `ecb-display-upgraded-options'. If this option
   is off then the user can perform the check and reset manually with
   `ecb-upgrade-options'.  *Note Auto. option-upgrading::.

 - User Option: before-activate-hook
   Normal hook run at the beginning of activating the ecb-package by running
   `ecb-activate'. These hooks run before any other tasks of the activating
   process are performed. If any of these hooks returns nil then ECB will not
   be activated!

   This can be used to check some conditions and then only start ECB if all
   conditions are true. For example a function could be added which returns
   only nil if Gnus is running. Then calling `ecb-activate' or
   `ecb-minor-mode' will only start ECB if Gnus is not already running.

 - User Option: before-deactivate-hook
   Normal hook run at the beginning of deactivating ECB by running
   `ecb-deactivate'. These hooks run before any other tasks of the
   deactivating process are performed. If any of these hooks returns nil then
   ECB will not be deactivated! See also `ecb-before-activate-hook'.

 - User Option: common-tree-buffer-after-create-hook
   Local hook running at the end of each tree-buffer creation. Every function
   of this hook is called once without arguments direct after creating a
   tree-buffer of ECB and it's local keymap. So for example a function could
   be added which performs calls of `local-set-key' to define new keybindings
   for EVERY tree-buffer.

   The following keys must not be rebind in all tree-buffers:
    - `RET' and all combinations with `Shift' and `Ctrl'

    - `TAB'

    - `C-t'

 - User Option: current-buffer-sync-hook
   Normal hook run at the end of `ecb-current-buffer-sync'.

   See documentation of `ecb-current-buffer-sync' for conditions when
   synchronization takes place and so in turn these hooks are evaluated.

   Precondition for such a hook: Current buffer is the buffer of the current
   selected edit-window.

   Postcondition for such a hook: Point must stay in the same edit-window as
   before evaluating the hook.

   Important note: If `ecb-window-sync' is not nil `ecb-current-buffer-sync'
   is running either every time Emacs is idle or even after every command
   (see `ecb-window-sync-delay').  So these hooks can be really called very
   often! Therefore each function of this hook should/must check in an
   efficient way at beginning if its task have to be really performed and
   then do them only if really necessary! Otherwise performance of Emacs
   could slow down dramatically!

   It is strongle recommended that each function added to this hook uses the
   macro `ecb-do-if-buffer-visible-in-ecb-frame' at beginning!  See
   `ecb-speedbar-current-buffer-sync' and `ecb-eshell-current-buffer-sync'
   for examples how to use this macro!

 - User Option: deactivate-hook
   Normal hook run at the end of deactivating (but before the ecb-layout is
   cleared!) ECB by running `ecb-deactivate'.

 - User Option: debug-mode
   If not nil ECB displays debug-information in the Messages-buffer. This is
   done for some critical situations concerning semantic-tokens and their
   overlays (or extends for XEmacs). Normally you should not need this
   switched on! But if you get errors like "destroyed extend" for XEmacs or
   "wrong-argument-type" concerning overlays for GNU Emacs then you should
   switch on this option and submitting a bug-report to the ecb-mailing-list
   (`ecb-submit-problem-report') after getting the error again!

 - User Option: key-map
   Specifies all keybindings for the ECB minor-mode keymap. The value is a
   cons-cell where the car is a common-prefix key for all the keybindings.
   The cdr is a list of keybindings each of them a list again. A keybinding
   has the following form:

      '(<common-prefix-flag> <keysequence> <function>) where

  `<common-prefix-flag>'
      If t then the common-prefixkey defined as car of the value (see above)
      is used.

  `<keysequence>'
      If the common prefixkey is used then the final keybinding is the
      concatenation of the common-prefixkey (see above) and this keysequence.

  `<function>:'
      The function to bind to the key. This can also be a lambda-expression .

   It is highly recommended to use one of the standard keys C-c or C-x as
   first key of your common-prefixkey!

   You MUST change this option via customize to take effect!

   All keysequences must be inserted as a string and must follow the syntax
   needed by `read-kbd-macro' or `kbd'. This means you can insert the key in
   the same manner `C-h k' displays keysequences.  Here is the summary of the
   syntax:

   Text is divided into "words" separated by whitespace. Except for the words
   described below, the characters of each word go directly as characters of
   the keysequence. The whitespace that separates words is ignored.
   Whitespace in the macro must be written explicitly, as in `C-c SPC'.

    * The special words RET, SPC, TAB, DEL, LFD, ESC, and NUL represent
      special control characters. The words must be written in uppercase.

    * A word in angle brackets, e.g., <return>, <down>, <left> or <f1>,
      represents a function key. (Note that in the standard configuration,
      the function key <return> and the control key RET are synonymous.).
      You can use angle brackets on the words RET, SPC, etc., but they are
      not required there.

    * Keys can be written by their ASCII code, using a backslash followed by
      up to six octal digits. This is the only way to represent keys with
      codes above ÿ.

    * One or more prefixes M- (meta), C- (control), S- (shift), A- (alt), H-
      (hyper), and s- (super) may precede a character or key notation. For
      function keys, the prefixes may go inside or outside of the brackets:
      C-<down> = <C-down>. The prefixes may be written in any order: M-C-x =
      C-M-x. Prefixes are not allowed on multi-key words, e.g., C-abc, except
      that the Meta prefix is allowed on a sequence of digits and optional
      minus sign: M-123 = M- M-1 M-2 M-3.

    * The `^' notation for control characters also works: ^M = C-m.


 - User Option: major-modes-activate
   List of major-modes for which ECB shoulb be activated or shown. Do not
   mistake this option with `ecb-auto-activate'. The latter one is for
   activating ECB after Emacs-startup (even without opening a buffer) and
   this one is for defining for which major-modes ECB should be activated if
   the mode goes active!

   The behaviour is like follows: If a mode is contained in this option ECB
   is activated after activating this mode (if ECB was deactivated before) or
   the ECB-windows are shown if ECB was already active but its windows were
   hidden. In every case ECB is activated with visible ECB-windows afterwards!

   For every major mode there can be specified an `ecb-layout-name':

    - `default': The value customized with `ecb-layout-name' is choosen.

    - a string: ECB is activated with this layout-name. This changes the
      value of `ecb-layout-name' but only for current emacs-session! But the
      layout is only changed if ECB was activated, if just the ECB-windows
      were shown, the current layout is used!

   There are two additional options:

    - `none': No major-modes should activate ECB automatically.

    - a regexp: This means all major-modes which are not listed in
      `ecb-major-modes-deactivate' activate ECB except the symbol-name of
      `major-mode' matches this regexp. If this option is set then the
      default regexp excludes all Info- and customize-buffers because this
      buffers should not change anything in the ECB-activation state.

   Any auto. activation is only done if the current-frame is unsplitted to
   avoid changing unnecessarily or unintentionally the frame-layout if the
   user just jumps between different windows.

 - User Option: major-modes-deactivate
   List of major-modes for which ECB should be deactivated or hidden.
   Specify if ECB should be deactivated or at least hidden if a major-mode is
   active. For each major-mode there must be added an action what should be
   done:

    - `hide': ECB just hides all the ECB windows like with
      `ecb-hide-ecb-windows'.

    - `deactivate': ECB is completely deactivated after activating the
      major-mode.

   There are two additional options:

    * `none': No major-modes should deactivate/hide ECB automatically.

    * A cons for the meaning "All except the activated modes of
      `ecb-major-modes-activate'". The car of this cons can be:

       - `hide-all-except-activated': All major-modes which are not listed in
         `ecb-major-modes-activate' hide the ECB-windows.

       - `deactivate-all-except-activated': All major-modes which are not
         listed in `ecb-major-modes-activate' deactivate ECB.

      The cdr of this cons is a regexp: This means all major-modes which are
      not listed in `ecb-major-modes-activate' deactivate/hide ECB except the
      symbol-name of `major-mode' matches this regexp. If this option is set
      then the default regexp excludes all Info- and customize-buffers
      because this buffers should not change anything in the ECB-activation
      state.

   If a major-mode is listed in `ecb-major-modes-activate' as well as in
   `ecb-major-modes-deactivate' then ECB is activated!

   Any auto. deactivation/hiding is only done if the edit-window of ECB is
   unsplitted and point is in the edit-window to avoid changing unnecessarily
   or unintentionally the frame-layout if the user just jumps between
   different edit-windows, the tree-windows and the compile-window of ECB.

 - User Option: minor-mode-text
   String to display in the mode line when ECB minor mode is active.  (When
   the string is not empty, make sure that it has a leading space.)

 - User Option: mode-line-prefixes
   Prefixes shown in the modelines of the ECB buffers. The displayed prefix
   then looks like: "[ <PREFIX>[: ]]", means if a prefix is defined for an
   ECB buffer then a single space is prepended and if there is additional
   text to display (e.g. the current directory in the sources buffer) then
   also the string ": " is appended.

 - User Option: primary-mouse-jump-destination
   Jump-destination of a primary mouse-button click (see
   `ecb-primary-secondary-mouse-buttons') in an ECB-window, if you click onto
   a source or method or variable. Defines in which edit-window (if splitted)
   ECB does the "right" action (opening the source, jumping to a
   method/variable). There are two possible choices:

    - `left-top': Does the "right" action always in the left/topmost
      edit-window.

    - `last-point': Does the "right" action always in that edit-window which
      had the point before.

   If the edit-window is not splitted this setting doesn't matter.

   Note: A click with the secondary mouse-button (see again
   `ecb-primary-secondary-mouse-buttons' does the "right" action always in
   the "other" window related to the setting in this option.

 - User Option: primary-secondary-mouse-buttons
   Primary- and secondary mouse button for using the ECB-buffers. A click
   with the primary button causes the main effect in each ECB-buffer:

    * ECB Directories: Expanding/collapsing nodes and displaying files in the
      ECB Sources buffer.

    * ECB sources/history: Opening the file in that edit-window specified by
      the option `ecb-primary-mouse-jump-destination'.

    * ECB Methods: Jumping to the method in that edit-window specified by the
      option `ecb-primary-mouse-jump-destination'.

   A click with the primary mouse-button while the SHIFT-key is pressed only
   displays the complete clicked node in the minibuffer. This is useful if
   the node is longer as the window-width of the ECB-window and
   `ecb-truncate-lines' is not nil.

   The secondary mouse-button is for opening (jumping to) the file in the
   other window (see the documentation `ecb-primary-mouse-jump-destination').

   The following combinations are possible:

    - primary: mouse-2, secondary: C-mouse-2 (means mouse-2 while CTRL-key is
      pressed). This is the default setting.

    - primary: mouse-1, secondary: C-mouse-1

    - primary: mouse-1, secondary: mouse-2

   If you change this during ECB is activated you must deactivate and
   activate ECB again to take effect

 - User Option: show-node-info-in-minibuffer
   Define which node info should displayed in a tree-buffer after mouse
   moving over the node or after a shift click onto the node.

   For every tree-buffer you can define "when" node info should be displayed:

    - `always': Node info is displayed by moving with the mouse over a node.

    - `if-too-long': Node info is only displayed by moving with the mouse
      over a node does not fit into the window-width of the tree-buffer
      window. In the ECB directories buffer this means also if a node is
      shortend or if the node has an alias (see `ecb-source-path').

    - `shift-click': Node info is only displayed after a shift click with the
      primary mouse button onto the node.

    - `never': Node info is never displayed.

   For every tree-buffer you can define what info should be displayed:

    * Directory-buffer:
       - `name': Only the full node-name is displayed.

       - `path': The full-path of the node is displayed.

    * Sources-buffer:
       - `name': Only the full node-name is displayed.

       - `file-info': File infos for this file are displayed.

       - `file-info-full': Fill infos incl. full path for this file are
         displayed.

    * History-buffer: see Directories-buffer.

    * Methods-buffer:
       - `name': Only the full node name is displayed.

       - `name+type': The full name + the type of the node (function, class,
         variable) is displayed.

   Do NOT set this option directly via setq but use always customize!

 - User Option: temp-dir
   Specify a directory where ECB can store temporary files.

 - User Option: tree-RET-selects-edit-window
   In which tree-buffers RET should finally select an edit-window. If a name
   of an ECB tree-buffer is contained in this list then hitting RET in this
   tree-buffer selects as last action the right edit-window otherwise only
   the right action is performed (opening a new source, selecting a method
   etc.) but point stays in the tree-buffer.

   A special remark for the `ecb-directories-buffer-name': Of course here the
   edit-window is only selected if `ecb-show-sources-in-directories-buffer'
   is not nil (otherwise this would not make any sense)!

   The setting in this option is only the default for each tree-buffer.  With
   `ecb-toggle-RET-selects-edit-window' the behavior of RET can be changed
   fast and easy in a tree-buffer without customizing this option, but of
   course not for future Emacs sessions!

 - User Option: tree-expand-symbol-before
   Show the expand symbol before the items in a tree.

 - User Option: tree-incremental-search
   Enable incremental search in the ECB-tree-buffers. For a detailed
   explanation see *Note Using the keyboard::. If you change this during ECB
   is activated you must deactivate and activate ECB again to take effect.

 - User Option: tree-indent
   Indent size for tree buffer. If you change this during ECB is activated
   you must deactivate and activate ECB again to take effect.

 - User Option: tree-navigation-by-arrow
   Enable smart navigation in the tree-windows by horiz. arrow-keys. If not
   nil then the left- and right-arrow keys work in the ECB tree-window in the
   following smart way if onto an expandable node:

    * Left-arrow: If node is expanded then it will be collapsed otherwise
      point jumps to the next "higher" node in the hierarchical tree (higher
      means the next higher tree-level or - if no higher level available -
      the next higher node on the same level).

    * Right-arrow: If node is not expanded then it will be expanded. Onto a
      not expandable node the horizontal arrow-keys go one character in the
      senseful correct direction.

   If this option is changed the new value takes first effect after
   deactivating ECB and then activating it again!

 - User Option: truncate-lines
   Truncate lines in ECB buffers. If you change this during ECB is activated
   you must deactivate and activate ECB again to take effect.

 - User Option: truncate-long-names
   Truncate long names that don't fit in the width of the ECB windows. If you
   change this during ECB is activated you must deactivate and activate ECB
   again to take effect.

 - User Option: use-recursive-edit
   Tell ECB to use a recursive edit so that it can easily be deactivated by
   (keyboard-escape-quit).

 - User Option: version-check
   If not `nil' ECB checks at start-time if the required versions of semantic
   and eieio are installed and loaded into Emacs. It is strongly recommended
   to set this option to not `nil'!

 - User Option: window-sync
   Synchronize the ECB-windows automatically with current edit window.  The
   real synchronization is done by `ecb-current-buffer-sync'. If `always'
   then the synchronization by `ecb-current-buffer-sync' takes place always a
   buffer changes in the edit window, if `nil' then never. If a list of
   major-modes then only if the major-mode of the new buffer belongs NOT to
   this list.

   But in every case the synchronization by `ecb-current-buffer-sync' takes
   only place if the current-buffer in the edit-window has a relation to
   files or directories. Examples for the former one are all
   programming-language-modes, `Info-mode' too, an example for the latter one
   is `dired-mode'. For all major-modes related to non-file/directory-buffers
   like `help-mode', `customize-mode' and others never an autom.
   synchronization will be done!

   It's recommended to exclude at least `Info-mode' because it makes no sense
   to synchronize the ECB-windows after calling the Info help.  Per default
   also `dired-mode' is excluded but it can also making sense to synchronize
   the ECB-directories/sources windows with the current directory in the
   dired-buffer.

   IMPORTANT NOTE: The synchronization is done by `ecb-current-buffer-sync'
   and therefore the hook `ecb-current-buffer-sync-hook' is evaluated every
   time `ecb-current-buffer-sync' is called (see above and documentation of
   `ecb-current-buffer-sync')!

 - User Option: window-sync-delay
   Time Emacs must be idle before the ECB-windows are synchronized with
   current edit window. If nil then there is no delay, means synchronization
   takes place immediately. A small value of about 0.25 seconds saves CPU
   resources and you get even though almost the same effect as if you set no
   delay.


File: ecb.info,  Node: ecb-directories,  Next: ecb-sources,  Prev: ecb-general,  Up: Customizable options

Group ecb-directories
---------------------

This group contains the following options:

 - User Option: add-path-for-not-matching-files
   Add path of a file to `ecb-source-path' if not already contained.  This is
   done during the auto. windows synchronization which happens if a file is
   opened not via the file/directory-browser of ECB. In such a situation ECB
   adds the path of the new file auto. to `ecb-source-path' at least
   temporally for the current Emacs session. This option defines two things:

   1. Should only the root-part (which means for unix-like systems always '/'
      and for windows-like systems the drive) of the new file be added as
      source-path to `ecb-source-path' or the whole directory-part?

   2. Should this path be added for future sessions too?

   The value of this option is a cons-cell where the car is a boolean for 1.
   and the cdr is a boolean for 2.

   A value of not nil for the car (1.) is reasonably if a user often opens
   files not via the ECB-browser which are not located in any of the paths of
   `ecb-source-path' because then only one path for each drive (windows) or
   the root-path (unix) is added to the directory buffer of ECB.

 - User Option: auto-expand-directory-tree
   Automatically expand the directory tree to the current source file.  There
   are three options:

    - `best': Expand the best-matching source-path

    - `first': Expand the first matching source-path

    - `nil': Do not automatically expand the directory tree.

 - User Option: cache-directory-contents
   Cache contents of directories.

   This can be useful if `ecb-source-path' contains directories with many
   files and subdirs, especially if these directories are mounted net-drives
   ("many" means here something > 1000, dependend of the speed of the
   net-connection and the machine). For these directories actualizing the
   sources- and/or directories- buffer of ECB (if displayed in current
   layout!) can slow down dramatically so a caching increases speed a lot.

   The value of this option is a list where each element looks like:

        (<dir-regexp> <filenumber threshold> <cache clearing> with

  `<dir-regexp>:'
      Regular expression a directory must match to be cached.

  `<filenumber threshold>:'
      Number of directory contents must exceed this number.

  `<cache clearing>:'
      When the cache should be cleared:

       - `demand': Cache will only be cleared on user demand. See
         `ecb-clear-directory-cache'.

       - `auto': Cache will be cleared if the contents of the directory have
         been changed. ECB can detect this automatically. This works for
         Unix- but probably not for Windows-systems, because Windows offers
         no way to detect when the contents of a directory have been changed.

       - `<number>': First selection of directories matching the regexp after
         <number> seconds after last caching time will rescan the directory.

   A directory will we only be cached if and only if the directory-name
   matches one rexexp of this option and it's content-number exceeds the
   related threshold.

   Example: A value of `("~/bigdir*" 1000 3600)' means the contents of every
   subdirectory of the home-directory with name beginning with "bigdir" will
   be cached if the directory contains more than 1000 entries. One hour after
   the last caching time of such a directory the next selection (clicking
   onto it in the directories-window, changing buffers so the directory
   becomes current in the directories-window, etc...) will rescan the
   directory and update the cache.

   *Attention*: Currently the <cache clearing> part is ignored.  Currently
   the cache can only be cleared on demand and only the whole cache can be
   cleared, see `ecb-clear-directory-cache'. This will change in a future
   version.

 - User Option: directories-buffer-after-create-hook
   Local hook running after the creation of the directories-buffer. Every
   function of this hook is called once without arguments direct after
   creating the directories-buffer of ECB and it's local keymap. So for
   example a function could be added which performs calls of `local-set-key'
   to define new keybindings only for the directories-buffer of ECB.

   The following keys must not be rebind in the directories-buffer: `F2',
   `F3' and `F4'

 - User Option: directories-buffer-name
   Name of the ECB directory buffer. Because it is not a normal buffer for
   editing you should enclose the name with stars, e.g. " *ECB Directories*".

   If it is necessary for you you can get emacs-lisp access to the
   buffer-object of the ECB-directory-buffer by this name, e.g. by a call of
   `set-buffer'.

   Changes for this option at runtime will take affect only after
   deactivating and then activating ECB again!

 - User Option: excluded-directories-regexp
   Specifies directories that should not be included in the directories list.
   The value of this variable should be a regular expression.

 - User Option: grep-function
   Function used for performing a grep. The popup-menu of the tree-buffers
   "Directories", "Sources" and "History" offer to grep the "current"
   directory:
    - Directory-buffer: The grep is performed in the current popup-directory
      after clicking the right mouse-button onto a node.

    - Sources-buffer: The grep is performed in the current selected directory.

    - History-buffer: The grep is performed in the directory of the current
      popup-source after clicking the right mouse-button onto a node.

 - User Option: grep-find-function
   Function used for performing a recursive grep. For more Details see option
   `ecb-grep-function' and replace "grep" with "recursive grep".

 - User Option: show-sources-in-directories-buffer
   Show source files in directories buffer.

 - User Option: source-path
   Paths where to find code sources. Each path can have an optional alias
   that is used as it's display name. If no alias is set, the path is used as
   display name.

 - User Option: use-speedbar-for-directories
   If true then uses speedbar for displaying and handling directories.  This
   means that speedbar is integrated in the ECB-frame and is displayed in
   that window normally displaying the standard ECB-directories-buffer.

   This option takes effect in all layouts which contain a directory window.

   Note: A similar effect and useability is available by setting this option
   to nil and setting `ecb-show-sources-in-directories-buffer' to not nil,
   because this combination displays also directories and sources in one
   window.

   `ecb-use-speedbar-for-directories' is for people who like the speedbar way
   handling directories amd source-files and want it in conjunction with ECB.


File: ecb.info,  Node: ecb-sources,  Next: ecb-methods,  Prev: ecb-directories,  Up: Customizable options

Group ecb-sources
-----------------

This group contains the following options:

 - User Option: show-source-file-extension
   Show the file extension of source files.

 - User Option: source-file-regexps
   Specifies which files are shown as source files. Consists of one exclude
   regexp and one include regexp. A file is displayed in the source-buffer of
   ECB iff: The file does not match the exclude regexp OR the file matches
   the include regexp. There are three predefined and useful combinations of
   an exclude and include regexp:

    * All files

    * All, but no backup, object, lib or ini-files (except .emacs and .gnus).
      This means all files except those starting with ".", "#" or ending with
      "~", ".elc", ".obj", ".o", ".lib", ".dll", ".a", ".so". (but including
      .emacs and .gnus)

    * Common source file types (.c, .java etc.)

   In addition to these predefined values a custom exclude and include
   combination can be defined.

 - User Option: sources-buffer-after-create-hook
   Local hook running after the creation of the sources-buffer. Every
   function of this hook is called once without arguments direct after
   creating the sources-buffer of ECB and it's local keymap. So for example a
   function could be added which performs calls of `local-set-key' to define
   new keybindings only for the sources-buffer of ECB.

 - User Option: sources-buffer-name
   Name of the ECB sources buffer. Because it is not a normal buffer for
   editing you should enclose the name with stars, e.g. "*ECB Sources*".

   If it is necessary for you you can get emacs-lisp access to the
   buffer-object of the ECB-sources-buffer by this name, e.g. by a call of
   `set-buffer'.

   Changes for this option at runtime will take affect only after
   deactivating and then activating ECB again!

 - User Option: sources-sort-method
   Defines how the source files are sorted.

    - `name': Sorting by name.

    - `extension': Sorting first by name and then by extension.

    - `nil': No sorting, means source files are displayed in the sequence
      returned by `directory-files' (called without sorting).


File: ecb.info,  Node: ecb-methods,  Next: ecb-history,  Prev: ecb-sources,  Up: Customizable options

Group ecb-methods
-----------------

This group contains the following options:

 - User Option: auto-update-methods-after-save
   Automatically updating the ECB method buffer after saving the current
   source-buffer.

 - User Option: bucket-token-display
   How ECB displays bucket tokens in the ECB methods buffer. Bucket tokens
   are tokens like "[+] Variables", "[+] Dependencies" etc. The name of the
   bucket-token comes from semantic but you can define a prefix, a suffix and
   a special face for the bucket token.

   The default are empty prefix/suffix-strings and 'ecb-bucket-token-face'.
   But an alternative can be for example `("[" "]" nil)' which means no
   special face and a display like "[+] [<bucket-name>]".

 - User Option: exclude-parents-regexp
   Regexp which parent classes should not be shown in the methods buffer (see
   also `ecb-show-parents'). If nil then all parents will be shown if
   `ecb-show-parents' is not nil.

 - User Option: font-lock-tokens
   Adds font-locking (means highlighting) to the ECB-method buffer.

 - User Option: highlight-token-header-after-jump
   If not nil then highlight the token line in the source-buffer after
   jumping to this method by clicking in the ECB-method-buffer onto this
   method. For highlighting `ecb-token-header-face' is used.

 - User Option: highlight-token-with-point
   How to highlight the method or variable under the cursor.

    - `highlight-scroll': Always scroll the method buffer, so the current
      method of the edit-window is highlighted in the method-window.

    - `highlight': Only highlight the current method of the edit window in the
      method window if the method is visible in the method-window.

    - `nil': No highlighting is done.

   See also `ecb-highlight-token-with-point-delay'.

 - User Option: highlight-token-with-point-delay
   Time Emacs must be idle before current token is highlighted. If nil then
   there is no delay, means current token is highlighted immediately. A small
   value of about 0.25 seconds saves CPU resources and you get even though
   almost the same effect as if you set no delay.  But such a delay prevents
   also "jumping backward/forward" during scrolling within java-classes if
   point goes out of method-definition into class-definition. Therefore the
   default value is a delay of 0.25 seconds.

 - User Option: token-jump-narrow
   When jumping to a token from the ECB methods buffer narrows the buffer to
   only show that token. To display the entire buffer again, click on a
   source file or call `widen' `C-x n w'.

 - User Option: token-jump-sets-mark
   Jumping to a token from the ECB-method buffer now sets the mark so the
   user can easily jump back.

 - User Option: methods-buffer-after-create-hook
   Local hook running after the creation of the methods-buffer. Every
   function of this hook is called once without arguments direct after
   creating the methods-buffer of ECB and it's local keymap. So for example a
   function could be added which performs calls of `local-set-key' to define
   new keybindings only for the methods-buffer of ECB.

 - User Option: methods-buffer-name
   Name of the ECB methods buffer. Because it is not a normal buffer for
   editing you should enclose the name with stars, e.g. " *ECB Methods*".

   If it is necessary for you you can get emacs-lisp access to the
   buffer-object of the ECB-methods-buffer by this name, e.g. by a call of
   `set-buffer'.

   Changes for this option at runtime will take affect only after
   deactivating and then activating ECB again!

 - User Option: post-process-semantic-tokenlist
   Define mode-dependend postprocessing for the semantic-tokenlist. This is
   an alist where the car is a major-mode symbol and the cdr is a
   function-symbol of a function which should be used for post-processing the
   tokenlist (returned by `semantic-bovinate-toplevel') for a buffer in this
   major-mode. Such a function is called with current semantic tokenlist of
   current buffer and must return a valid tokenlist again.

   For oo-programming languages where the methods of a class can be defined
   outside the class-definition (e.g. C++, Eieio) the function
   `ecb-group-function-tokens-with-parents' can be used to get a much better
   method-display in the methods-window of ECB, because all method
   implementations of a class are grouped together.

 - User Option: scroll-window-after-jump
   How to scroll the window when jumping to a token.

 - User Option: show-only-positioned-tokens
   Show only nodes in the method-buffer which are "jumpable". If not nil then
   ECB displays in the method-buffer only nodes which are "jumpable", i.e.
   after selecting it by clicking or with RET then ECB jumps to the
   corresponding location in the edit-window. Example: With CLOS or Eieio
   source-code there can exist some positionless nodes like
   variable-attributes in a `defclass' form which are only displayed if this
   option is nil. Displaying such nodes can be sensefull even if they can not
   be jumped.

 - User Option: show-tokens
   How to show tokens in the methods buffer. This variable is a list where
   each element represents a type of tokens:

      (<token type> <display type> <sort method>)

   The tokens in the methods buffer are displayed in the order as they appear
   in this list.

  `<token type>'
      A Semantic token type symbol (function, variable, rule, include etc.)
      or one of the following:

       - `t': All token types not specified anywhere else in the list.

       - `parent': The parents of a type.

  `<display type>'
      A symbol which describes how the tokens of this type shall be shown:

       - `expanded': The tokens are shown in an expanded node.

       - `collapsed': The tokens are shown in a collapsed node.

       - `flattened': The tokens are added to the parent node.

       - `hidden': The tokens are not shown.

  `<sort method>'
      A symbol describing how to sort the tokens of this type:

       - `name': Sort by the token name.

       - `access': Sort by token access (public, protected, private) and then
         by name.

       - `nil': Don't sort tokens. They appear in the same order as in the
         source buffer.


 - User Option: token-display-function
   Function to use for displaying tokens in the methods buffer. This
   functionality is set on major-mode base, i.e. for every major-mode a
   different function can be used. The value of this option is a list of
   cons-cells:

    - The car is either a major-mode symbol or the special symbol 'default
      which means if no function for a certain major-mode is defined then the
      cdr of the 'default cons-cell is used.

    - The cdr is the function used for displaying a token in the related
      major-mode.

   Every function is called with 3 arguments:

   1. The token

   2. The parent-token of token (can be nil)

   3. The value of `ecb-font-lock-tokens'.

   Every function must return the display of the token as string, colorized
   if the third argument is not nil.

   The following functions are predefined:

    * All functions of `semantic-token->text-functions'.

    * For every function in `semantic-token->text-functions' with name
      "semantic-XYZ" a function with name "ecb-XYC" is predefined. The
      differences between the semantic- and the ECB-version are:

       - The ECB-version displays for type tokens only the type-name and
         nothing else (exception: In c++-mode a template specifier is
         appended to the type-name if a template instead a normal class).

       - The ECB-version displays type-tokens according to the setting in
         `ecb-type-token-display'. This is useful for better recognizing
         different classes, structs etc. in the ECB-method window.

      For all tokens which are not types the display of the ECB-version is
      identical to the semantic version. Example: For
      `semantic-name-nonterminal' the pendant is `ecb-name-nonterminal'.

   This functionality also allows the user to display tokens as UML. To
   enable this functionality set the function for a major-mode (e.g.
   `jde-mode') to `semantic-uml-concise-prototype-nonterminal',
   `semantic-uml-prototype-nonterminal', or
   `semantic-uml-abbreviate-nonterminal' or the ECB-versions of these
   functions.

   If the value is `nil', i.e. neither a function for a major-mode is defined
   nor the special 'default, then `semantic-prototype-nonterminal' is used
   for displaying the tokens.

 - User Option: token-jump-narrow
   When jumping to a token from the ECB methods buffer narrows the buffer to
   only show that token. To display the entire buffer again, click on a
   source file or call `widen' (`C-x n w').

 - User Option: token-jump-sets-mark
   Jumping to a token from the ECB-method buffer now sets the mark so the
   user can easily jump back.

 - User Option: type-token-display
   How to display semantic type-tokens in the methods buffer. Normally all
   token displaying, colorizing and facing is done by semantic according to
   the value of `semantic-face-alist' and the semantic display-function (e.g.
   one from `semantic-token->text-functions'). But sometimes a finer
   distinction in displaying the different type specifiers of type-tokens can
   be usefull. For a description when this option is evaluated look at
   `ecb-token-display-function'!

   This functionality is set on a major-mode base, i.e. for every major-mode
   a different setting can be used. The value of this option is a list of
   cons-cells:

    * The car is either a major-mode symbol or the special symbol 'default
      which means if no setting for a certain major-mode is defined then the
      cdr of the 'default cons-cell is used.

    * The cdr is a list of 3-element-lists:

      1. First entry is a semantic type specifier in string-form. Current
         available type specifiers are for example "class", "interface",
         "struct", "typedef" and "enum". In addition to these ones there is
         also a special ECB type specifier "group" which is related to
         grouping tokens (see `ecb-post-process-semantic-tokenlist' and
         `ecb-group-function-tokens-with-parents'). Any arbitrary specifier
         can be set here but if it is not "group" or not known by semantic it
         will be useless.

      2. Second entry is a flag which indicates if the type-specifier string
         from (1.) itself should be removed (if there is any) from the
         display.

      3. Third entry is the face which is used in the ECB-method window to
         display type-tokens with this specifier. ECB has some predefined
         faces for this (`ecb-type-token-class-face',
         `ecb-type-token-struct-face', `ecb-type-token-typedef-face',
         `ecb-type-token-enum-face' and `ecb-type-token-group-face') but any
         arbitrary face can be set here. This face is merged with the faces
         semantic already uses to display a token, i.e. the result is a
         display where all face-attributes of the ECB-face take effect plus
         all face-attributes of the semantic-faces which are not set in the
         ECB-face (with XEmacs this merge doesn't work so here the ECB-face
         replaces the semantic-faces; this may be fixed in future versions).

   The default value is nil means there is no special ECB-displaying of
   type-tokens in addition to the displaying and colorizing semantic does.
   But a value like the following could be a usefull setting:

      ((default
         ("class" t ecb-type-token-class-face)
         ("group" nil ecb-type-token-group-face))
       (c-mode
        ("struct" nil ecb-type-token-struct-face)
        ("typedef" nil ecb-type-token-typedef-face)))

   This means that in `c-mode' only "struct"s and "typedef"s are displayed
   with special faces (the specifiers itself are not removed) and in all
   other modes "class"es and grouping-tokens (see
   `ecb-token-display-function', `ecb-group-function-tokens-with-parents')
   have special faces and the "class" specifier-string is removed from the
   display.


File: ecb.info,  Node: ecb-history,  Next: ecb-layout,  Prev: ecb-methods,  Up: Customizable options

Group ecb-history
-----------------

This group contains the following options:

 - User Option: clear-history-behavior
   Defines which entries of the history buffer should be deleted if
   `ecb-clear-history' is called. Three options are available:

    - `not-existing-buffers': All entries which represent a buffername not
      existing anymore in the bufferlist will be cleared. Probably the most
      senseful value.

    - `existing-buffers': The opposite of 'not-existing-buffers.

    - `all': The whole history will be cleared.

 - User Option: history-buffer-after-create-hook
   Local hook running after the creation of the history-buffer. Every
   function of this hook is called once without arguments direct after
   creating the history-buffer of ECB and it's local keymap. So for example a
   function could be added which performs calls of `local-set-key' to define
   new keybindings only for the history-buffer of ECB.

 - User Option: history-buffer-name
   Name of the ECB history buffer. Because it is not a normal buffer for
   editing you should enclose the name with stars, e.g. "*ECB History*".

   If it is necessary for you you can get emacs-lisp access to the
   buffer-object of the ECB-history-buffer by this name, e.g. by a call of
   `set-buffer'.

   Changes for this option at runtime will take affect only after
   deactivating and then activating ECB again!

 - User Option: history-item-name
   The name to use for items in the history buffer.

 - User Option: kill-buffer-clears-history
   Define if `kill-buffer' should also clear the history. There are three
   options:

    - `auto': Removes automatically the corresponding history-entry after the
      buffer has been killed.

    - `ask': Asks, if the history-entry should be removed after the kill.

    - `nil': `kill-buffer' does not affect the history (this is the default).

 - User Option: sort-history-items
   Sorts the items in the history buffer.


File: ecb.info,  Node: ecb-layout,  Next: ecb-compilation-content,  Prev: ecb-history,  Up: Customizable options

Group ecb-layout
----------------

This group contains the following options:

 - User Option: activate-before-new-frame-created-hook
   Normal hook run before the new ECB-frame is created if `ecb-new-ecb-frame'
   is not nil (otherwise this hook is not evaluated).

 - User Option: advice-window-functions
   Use the intelligent windows functions of ECB instead of the standard Emacs
   functions. You can choose the following functions to be adviced by ECB so
   they behave as if the edit-window(s) of ECB would be the only windows(s)
   of the ECB-frame:

    * `other-window' For this one see also the option
      `ecb-other-window-jump-behavior'!

    * `delete-window'

    * `delete-other-windows'

    * `delete-windows-on'

    * `split-window-horizontally'

    * `split-window-vertically'

    * `switch-to-buffer'

    * `switch-to-buffer-other-window'

    * `other-window-for-scrolling' If this advice is enabled then the
      following functions scroll always the first edit-window if the
      edit-window is splitted, point stays in the "other" edit-window and
      there is no durable compilation-window (see
      `ecb-compile-window-height'):

       - `scroll-other-window'

       - `scroll-other-window-down'

       - `beginning-of-buffer-other-window'

       - `end-of-buffer-other-window'

      This advice is per default not enabled.

   For working most conveniantly with ECB it is the best to advice all these
   functions, because then all the standard shortcuts of these functions are
   also usable with ECB without doing anything else. Also other packages can
   interact best with ECB if these functions are all adviced. If these
   adviced functions are called in another frame than the ECB-frame they
   behave all exactly like the not adviced versions!

   But please read also the following:

   Normally all packages should work correct with ECB and it´s adviced
   functions but if there occur problems with a package cause of some of
   these adviced functions ECB offers the following fall-back solution:

   1. Deactivate in `ecb-advice-window-functions' all the adviced-functions
      which make problems with other packages.

   2. For every of the adviceable functions <adv-func> ECB offers a
      interactively function named "ecb-<adv-func>" which does exactly the
      same as the adviced version of <adv-func>. Use "ecb-<adv-func>" instead
      the original one to get the proper ECB behavior even if the function is
      not adviced anymore.

   3. You can bind in `ecb-activate-hook' the standard-shortcut of <adv-func>
      to "ecb-<adv-func>" and rebind it in `ecb-deactivate-hook' to
      <adv-func>.

   4. Now you have the best of both worlds: The problematic package works and
      you have the ECB-behavior of <adv-func> as if it would be adviced.

   Here is an example: Suppose you must deactivating the advice for
   `switch-to-buffer-other-window'. Then you deactivate this function with
   this option and you can use `ecb-switch-to-buffer-other-window' instead.
   Bind the shortcut you normally use for `switch-to-buffer-other-window' to
   `ecb-switch-to-buffer-other-window' (use `ecb-activate-hook' for this) and
   rebind it to the original function in the `ecb-deactivate-hook'.

 - User Option: compile-window-enlarge-by-select
   The compile-window is auto. enlarged after selecting it. If not nil then
   selecting the `ecb-compile-window' auto. enlarges it and deselecting
   (means selecting another window after point was in `ecb-compile-window')
   auto. shrinks it. Enlarging and shrinking the `ecb-compile-window' is done
   with `ecb-toggle-enlarged-compilation-window'. See also the documentation
   of this function!

 - User Option: compile-window-height
   If you want a compilation window shown at the bottom of the ECB-layout
   then set here the height of it (Default is a height of 5). If you redraw
   the current layout with `ecb-redraw-layout' then the compilation window
   (if any) has the heigth you set here. If the number is less than 1.0 the
   height is a fraction of the frame height.

   If you do not set a durable compilation window then doing a compilation
   splits temporally the edit window vertically if the edit window is not
   splitted already or uses the "other" edit window temporally for comilation
   output if the edit window is already splitted. This is the recommended
   value for this option!

   Beware: If you set a durable compilation window then ECB can not guarantee
   always behaving like a standard Emacs concerning displaying temp-buffers
   and compilation-buffers. It should work in most cases but maybe not in
   all. Just try it out.

   See also the option `ecb-compile-window-temporally-enlarge' and also the
   function `ecb-toggle-enlarged-compilation-window'!

   *Note Temp- and compile-buffers::.

   Regardless of the settings you define here: If you have destroyed or
   changed the ECB-screen-layout by any action you can always go back to this
   layout with `ecb-redraw-layout'

 - User Option: compile-window-temporally-enlarge
   Let Emacs temporally enlarge the compile-window of the ECB-layout.

   This option has only an effect if `ecb-compile-window-height' is not nil!

   The following values are possible:

    - `after-compilation': After finishing the compilation-output and during
      jumping to the errors ECB let temporally enlarge all
      compilation-buffers in `ecb-compile-window' (e.g. compile- and
      grep-buffers) to `compilation-window-height'. But be aware this setting
      is currently not meaningful for temporary buffers like help-buffers
      because these buffers currently enlarge always to
      `temp-buffer-max-height'.

    - `after-selection': Selecting the `ecb-compile-window' auto. enlarges it
      and deselecting (means leaving `ecb-compile-window') auto. shrinks it.
      Enlarging and shrinking the `ecb-compile-window' is done with
      `ecb-toggle-enlarged-compilation-window'. See also the documentation of
      this function! This is possible for all buffers in `ecb-compile-window'
      not only for compilation-buffers!

    - `both': The combination of 'after-compilation and 'after-selection.

    - `nil': ECB tries to fix always the height of the `ecb-compile-window' at
      the value of `ecb-compile-window-height'. But for all temporary buffers
      (e.g. help-buffers) this is currently not possible.

   To restore the ECB-layout after such a buffer-enlarge just call
   `ecb-toggle-enlarged-compilation-window' or `ecb-redraw-layout'.

 - User Option: enlarged-compilation-window-max-height
   The max height of the compilation window after enlarging it by
   `ecb-toggle-enlarged-compilation-window'. The following values are allowed:

    - best: Minimum is the value of `ecb-compile-window-height' and max. the
      half of the frame-height of the ECB-frame, best depending on the values
      of `compilation-window-height' (before ECB was started!) and the number
      of lines of current buffer in `ecb-compile-window'. If
      `compilation-window-height' is set before ECB was started then ECB
      never enlarges the `ecb-compile-window' over the value of
      `compilation-window-height'! Changing `compilation-window-height'
      during activated ECB takes first effect after restarting ECB!

    - half: 1/2 the frame-height of the ECB-frame

    - any number: Max height in lines. If the number is less than 1.0 the
      height is a fraction of the frame height (e.g. 0.33 results in a
      max-height of 1/3 the frame-height).

 - User Option: hide-ecb-windows-after-hook
   Hooks run direct after the ECB windows have been hidden either by
   `ecb-toggle-ecb-windows' or `ecb-hide-ecb-windows'.

 - User Option: hide-ecb-windows-before-hook
   Hooks run direct before the ECB windows will be hidden either by
   `ecb-toggle-ecb-windows' or `ecb-hide-ecb-windows'. This means that at
   runtime of this hook all the ECB-tree-windows of current layout are
   visible.

 - User Option: layout-always-operate-in-edit-window
   Adviced window functions work always in the edit-window. If we are in an
   ECB special buffer (methods, directories, etc), and any of the adviced
   windowing functions is called (see `ecb-advice-window-functions'), we will
   select the `ecb-edit-window' first. This is useful if you have any
   functions that use such functions and you don't want them to just error
   with a method complaining that the current buffer can not be split, or
   something similar.

   Because this may not be desirable in all situations and all adviced
   functions this can be enabled separately for every advisable function (see
   also `ecb-advice-window-functions'). If the symbol of an adviced function
   is contained in the value of this option, then the edit-window is first
   selected otherwise either an error is reported or some other special
   reaction; see the documentation of the adviced functions for this.

   For `other-window' and `other-window-for-scrolling' this makes no sense,
   therefore you can not enable this for both of them.

   Per default this is enabled for `delete-window', `delete-other-windows',
   `switch-to-buffer' and `switch-to-buffer-other-window'.

 - User Option: layout-name
   Select a window layout of ECB. Value is any arbitary string. There are
   four different types of layouts: left, right, top and left-right, which
   means the location of the ECB-tree-windows in the ECB-frame.  Currently
   there are 20 predefined layouts; names see below. You can savely try out
   any of them by changing this value and saving it only for the current
   session. If you are sure which layout you want you can save it for future
   sessions. To get a picture of the layout for name <name> call
   `ecb-show-layout-help'. `ecb-layout-function-9'.

   Currently available layouts:

    * Left layouts: left1 left2 left3 left4 left5 left6 left7 left8 left9
      left10 left11 left12 left13 left14 left15

    * Right layouts: right1

    * Top layouts: top1 top2

    * Left-right layouts: leftright1 leftright2

   Regardless of the settings you define here: If you have destroyed or
   changed the ECB-screen-layout by any action you can always go back to this
   layout with `ecb-redraw-layout'

 - User Option: layout-switch-to-compilation-window
   Switch-to-buffer...-functions switch to `ecb-compile-window'. If the
   buffer argument of `switch-to-buffer' or `switch-to-buffer-other-window'
   is an compilation buffer as defined with `ecb-compilation-buffer-p' we
   will select the `ecb-compile-window' first. This is useful if you always
   want your compilation buffers within the compilation window and now within
   the edit window.

   Note the difference between `ecb-layout-always-operate-in-edit-window' and
   this option: If a switch-to-buffer...-function is contained in the former
   one, then we always jump first into the edit-window regardless of the
   destination buffer. If also contained in this option then ECB checks the
   destination buffer and then selects the `ecb-compile-window' if it is a
   compilation-buffer in the meaning of `ecb-compilation-buffer-p'!

   Per default this is only enabled for `switch-to-buffer'. We provide the
   option for `switch-to-buffer-other-window' too but the assumption is that
   when a user asks for a buffer in another window it should always be
   presented in another window.

 - User Option: layout-window-sizes
   Specifies the sizes of the ECB windows for each layout. The easiest way to
   change this variable is to change the window sizes by dragging the window
   borders using the mouse and then store the window sizes by calling the
   `ecb-store-window-sizes' function. Next time the layout is redrawn the
   values stored in this option will be used.

   But be aware: These values are only suitable for the frame-size the
   ecb-frame had at the time you store the values by calling
   `ecb-store-window-sizes'. Therefore ensure always before calling
   `ecb-store-window-sizes' that the ecb-frame has the size it has normally
   during your work with ECB!.

 - User Option: new-ecb-frame
   Create a new frame at activation time of ECB.

 - User Option: other-window-jump-behavior
   Which windows of ECB should be accessible by the ECB-adviced function
   `other-window', an intelligent replacement for the Emacs standard version
   of `other-window'. The following settings are possible:

    - `all': ECB will cycle through all windows of ECB, means it behaves like
      the original `other-window'.

    - `only-edit': ECB will only cycle through the (max. 2) edit-windows of
      ECB.

    - `edit-and-compile': Like 'only-edit plus the compile window if any.

 - User Option: redraw-layout-after-hook
   Hooks run direct before the ECB windows will be shown either by
   `ecb-toggle-ecb-windows' or `ecb-show-ecb-windows'. This means that at
   runtime of this hook the ECB-windows are already visible.

 - User Option: redraw-layout-before-hook
   Hooks run direct before the ECB-layout will be redrawn by either
   `ecb-redraw-layout'.

 - User Option: redraw-layout-quickly
   If non-nil, we will attempt to redraw the layout quickly. Please read also
   carefully the documentation of `ecb-redraw-layout'.

 - User Option: select-edit-window-on-redraw
   Select the first edit window on `ecb-redraw-layout'.

 - User Option: show-ecb-windows-after-hook
   Hooks run direct before the ECB windows will be shown either by
   `ecb-toggle-ecb-windows' or `ecb-show-ecb-windows'. This means that at
   runtime of this hook the ECB-windows are already visible.

   IMPORTANT: Showing the hidden ECB-windows is internally done by calling
   `ecb-redraw-layout' and therefore also the hooks
   `ecb-redraw-layout-before-hook' and `ecb-redraw-layout-after-hook' are
   evaluated. So there is the following sequence of hooks during the process
   of showing the hidden ECB-windows:
   1. `ecb-show-ecb-windows-before-hook'

   2. `ecb-redraw-layout-before-hook'

   3. <redrawing the layout to show the hidden ECB-windows>

   4. `ecb-redraw-layout-after-hook'

   5. `ecb-show-ecb-windows-after-hook'
      So be aware which code you add to which hook!

 - User Option: show-ecb-windows-before-hook
   Hooks run direct before the ECB windows will be shown either by
   `ecb-toggle-ecb-windows' or `ecb-show-ecb-windows'. This means that at
   runtime of this hook the ECB-windows are still hidden.

   IMPORTANT: Showing the hidden ECB-windows is internally done by calling
   `ecb-redraw-layout' and therefore also the hooks
   `ecb-redraw-layout-before-hook' and `ecb-redraw-layout-after-hook' are
   evaluated. So there is the following sequence of hooks during the process
   of showing the hidden ECB-windows:
   1. `ecb-show-ecb-windows-before-hook'

   2. `ecb-redraw-layout-before-hook'

   3. <redrawing the layout to show the hidden ECB-windows>

   4. `ecb-redraw-layout-after-hook'

   5. `ecb-show-ecb-windows-after-hook'
      So be aware which code you add to which hook!

 - User Option: split-edit-window
   Sets how and if the edit window should be splitted. But be aware: This
   option determines only if the edit-window should be splitted at start-time
   of ECB.

 - User Option: toggle-layout-sequence
   Toggle sequence for layout toggling with `ecb-toggle-layout'.  Every
   element of this list has to be a valid layout-name i.e. either one of the
   predefined layouts or one of the user-defined layouts.

   You can add here as many layouts as you want but to use this option most
   effective you should not add more than 2 or 3 layouts so every layout can
   be accessed very fast by toggling with `ecb-toggle-layout'. It is also
   senseful to add layouts which have the same principal outline, i.e. all
   their tree-buffers are on the same side of the frame and the
   tree-buffer-"column" (or -"row") has identical size for the layouts.

   Recommended values are for example:

    - ("left10" "left15"), toggles between methods and directories/history

    - ("left10" "left13"), toggles between methods and directories

    - ("left10" "left14"), toggles between methods and history

    - ("left10" "left13" "left14"), toggles between methods, history and
      directories

   See also option `ecb-show-sources-in-directories-buffer'.

   This option makes only sense if the value is a list with more than 1
   element!

 - User Option: windows-height
   The height of the ECB windows in lines when they are placed above or below
   the edit window. If the number is less than 1.0 the width is a fraction of
   the frame height.

 - User Option: windows-width
   The width of the ECB windows in columns when they are placed to the left
   or right of the edit window. If the number is less than 1.0 the width is a
   fraction of the frame width.


File: ecb.info,  Node: ecb-compilation-content,  Next: ecb-create-layout,  Prev: ecb-layout,  Up: Customizable options

Group ecb-compilation-content
-----------------------------

This group contains the following options:

 - User Option: compilation-buffer-names
   Additional buffer names that should be displayed in the compilation window
   of ECB even if `compilation-buffer-p' says nil.

 - User Option: compilation-major-modes
   Additional major-mode that should be displayed in the compilation window
   of ECB even if `compilation-buffer-p' says nil.


File: ecb.info,  Node: ecb-create-layout,  Next: ecb-face-options,  Prev: ecb-compilation-content,  Up: Customizable options

Group ecb-create-layout
-----------------------

This group contains the following options:

 - User Option: create-layout-file
   File where all layouts created by `ecb-create-new-layout' are stored.

 - User Option: ecb-create-layout-frame-height
   Frame height of the layout creation frame.

 - User Option: ecb-create-layout-frame-width
   Frame width of the layout creation frame.


File: ecb.info,  Node: ecb-face-options,  Next: ecb-faces,  Prev: ecb-create-layout,  Up: Customizable options

Group ecb-face-options
----------------------

This group contains the following options:

 - User Option: directories-general-face
   Basic face for the ECB directories buffer. This defines the basic face the
   whole directory buffer should displayed with. If the face
   `ecb-default-general-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-general-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: directory-face
   Face used for highlighting current directory in the directories buffer. If
   the face `ecb-default-highlight-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-highlight-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: history-face
   Face used for highlighting current history-entry in the history buffer. If
   the face `ecb-default-highlight-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-highlight-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: history-general-face
   Basic face for the ECB directory buffer. This defines the basic face the
   whole history buffer should displayed with. If the face
   `ecb-default-general-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-general-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: method-face
   Face used for highlighting current method, class or variable in the
   methods buffer. If the face `ecb-default-highlight-face' is used then the
   display of all ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-highlight-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: methods-general-face
   Basic face for the ECB methods buffer. This defines the basic face the
   whole methods buffer should displayed with. If the face
   `ecb-default-general-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-general-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: source-face
   Face used for highlighting current source in the sources buffer. If the
   face `ecb-default-highlight-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-highlight-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: source-in-directories-buffer-face
   Face for source files in the directories buffer.

 - User Option: sources-general-face
   Basic face for the ECB sources buffer. This defines the basic face the
   whole sources buffer should displayed with. If the face
   `ecb-default-general-face' is used then the display of all
   ECB-tree-buffers can be changed by modifying only the face
   `ecb-default-general-face'.

   Changes take first effect after finishing and reactivating ECB!

 - User Option: token-header-face
   Face used for highlighting the token header after jumping to it by
   clicking onto a node in the methods buffer.


File: ecb.info,  Node: ecb-faces,  Next: ecb-download,  Prev: ecb-face-options,  Up: Customizable options

Group ecb-faces
---------------

This group contains the following faces:

`ecb-bucket-token-face:'
   Face which can be used for displaying bucket tokens in the methods buffer.
   See also `ecb-bucket-token-display'.

`ecb-default-general-face:'
   Basic face for all ECB tree-buffers.  It's recommended to define here the
   font-family, the font-size, the basic color etc.

   In GNU Emacs 21.X all faces (even the face `ecb-default-highlight-face')
   used in the ECB tree-buffers inherit from this face. Therefore the default
   attributes like font etc. of a face used in a tree-buffer can be very
   easily changed with face `ecb-default-general-face'.

   With XEmacs and GNU Emacs 20.X there is no inheritance-feature but the
   options `ecb-directories-general-face', `ecb-sources-general-face',
   `ecb-methods-general-face' and `ecb-history-general-face' offer the choice
   to use the face `ecb-default-general-face' so also with XEmacs and GNU
   Emacs 20.X the basic face-settings can be easily changed just by
   customizing the face `ecb-default-general-face'!

`ecb-default-highlight-face:'
   Define basic face for highlighting the selected node in an ECB tree-buffer.

   In GNU Emacs 21.X all highlighting faces in the ECB tree-buffers inherit
   from this face. Therefore the default attributes like font etc. of a face
   used in a tree-buffer for highlighting the current token can be very
   easily changed with face `ecb-default-highlight-face'.

   With XEmacs and GNU Emacs 20.X there is no inheritance-feature but the
   options `ecb-directory-face', `ecb-source-face', `ecb-method-face' and
   `ecb-history-face' offer the choice to use the face
   `ecb-default-highlight-face' so also with XEmacs and GNU Emacs 20.X the
   basic face-settings can be easily changed just by customizing the face
   `ecb-default-highlight-face'!

`ecb-directories-general-face:'
   Basic face for the ECB directories buffer. It´s recommended to define here
   the font-family, the font-size, the basic color etc.

`ecb-directory-face:'
   Define face used for highlighting current directory in the directories
   buffer.

`ecb-history-face:'
   Define face used for highlighting current history-entry in the history
   buffer.

`ecb-history-general-face:'
   Basic face for the ECB history buffer. It´s recommended to define here the
   font-family, the font-size, the basic color etc.

`ecb-method-face:'
   Define face used for highlighting current method, class or variable in the
   methods buffer.

`ecb-methods-general-face:'
   Basic face for the ECB methods buffer. It´s recommended to define here the
   font-family, the font-size, the basic color etc.

`ecb-source-face:'
   Define face used for highlighting current source in the sources buffer.

`ecb-source-in-directories-buffer-face:'
   Define a face for displaying sources in the directories buffer.

`ecb-sources-general-face:'
   Basic face for the ECB sources buffer. It´s recommended to define here the
   font-family, the font-size, the basic color etc.

`ecb-token-header-face:'
   Define face used for highlighting the token header after jumping to it by
   clicking onto a node in the methods buffer.

`ecb-type-token-class-face:'
   Define face used with option `ecb-type-token-display'.

`ecb-type-token-enum-face:'
   Define face used with option `ecb-type-token-display'.

`ecb-type-token-group-face:'
   Define face used with option `ecb-type-token-display'.

`ecb-type-token-interface-face:'
   Define face used with option `ecb-type-token-display'.

`ecb-type-token-struct-face:'
   Define face used with option `ecb-type-token-display'.

`ecb-type-token-typedef-face:'
   Define face used with option `ecb-type-token-display'.

Just call `customize-face <face-name>' to customize these faces for your
personal taste. Or customize the related option in the group *Note
ecb-face-options::.


File: ecb.info,  Node: ecb-download,  Next: ecb-help,  Prev: ecb-faces,  Up: Customizable options

Group ecb-download
------------------

This group contains the following options:

 - User Option: download-delete-archive
   Should the downloaded archive be deleted after successfull installation or
   after failure during the installation-process.  Possible values are:

    - `only-after-success': Archive is only deleted after successfull
      installation but not if a failure occurs during the installation
      process.

    - `always': Archive is also deleted if an error occurs.

    - `nil': Archive will never be deleted.

 - User Option: download-url
   URL where downloadable ECB-versions are located. The ECB-archive-file
   (e.g. ecb-1.70.tar.gz) will be appended to this URL and `ecb-download-ecb'
   will try to download this archive.

   Note: Normally this URL should never change but who knows...

 - User Option: download-version
   Which version of ECB should be downloaded by `ecb-download-ecb'.  Valid
   values are either the string "latest" or a version number like "1.70". ECB
   creates automatically the correct URL for download, see `ecb-download-ecb'
   (*note Interactive ECB commands::).


File: ecb.info,  Node: ecb-help,  Next: ecb-eshell,  Prev: ecb-download,  Up: Customizable options

Group ecb-help
--------------

This group contains the following options:

 - User Option: help-html-path
   Path where the ECB online help in HTML format resides. This must be the
   location of the `ecb.html' which comes with the ECB distribution. If is
   installed by unpacking the archive available on the ECB website then this
   is the installation directory of ECB, i.e.  where the elisp files of ECB
   reside. If it is installed as XEmacs-package (e.g. via the package manager
   of XEmacs) then this is probably not the directory where the elisp files
   of ECB reside but either the directory "../../html/" or
   "../../etc/ecb/html/" (both relativ to the elisp directory of ECB).

   The path can either be an absolute path or a path relativ to the directory
   where the elisp files of ECB are.

   Normally there should be no need to change this option!

 - User Option: help-info-path
   Path where the ECB online help in info format resides. This must be the
   location of the `ecb.info' which comes with the ECB distribution. If is
   installed by unpacking the archive available on the ECB website then this
   is the installation directory of ECB, i.e.  where the elisp files of ECB
   reside. If it is installed as XEmacs-package (e.g. via the package manager
   of XEmacs) then this is probably not the directory where the elisp files
   of ECB reside but the directory "../../info/" (relativ to the elisp
   directory of ECB).

   The path can either be an absolute path or a path relativ to the directory
   where the elisp files of ECB are.

   Normally there should be no need to change this option!

 - User Option: show-help-format
   The format `ecb-show-help' shows its online help. Allowed values are 'info
   (for the Info format) and 'html (for HTML format). If the value is 'html
   then `browse-url-browser-function' says which browser is used.


File: ecb.info,  Node: ecb-eshell,  Prev: ecb-help,  Up: Customizable options

Group ecb-eshell
----------------

This group contains the following options:

 - User Option: eshell-auto-activate
   Startup the eshell when the ECB is activated and display it in the
   compile-window. If current layout does not display a compile-window (see
   `ecb-compile-window-height') then nothing is done.

 - User Option: eshell-enlarge-when-selecting
   Enlarge the compile-window if it displays the eshell and if it is selected
   by `ecb-eshell-goto-eshell'.

 - User Option: eshell-synchronize
   Synchronize the eshell with the default-directory of current
   source-buffer. The synchronization is done by
   `ecb-eshell-current-buffer-sync' which can be called interactively but
   normally it is called autom. by the `ecb-current-buffer-sync-hook'.


File: ecb.info,  Node: Submitting problem report,  Next: Upgrading,  Prev: Customizing,  Up: Top

Submitting a problem report
***************************

If you run into problems with ECB you should first take a look into

 - *Note FAQ:: or

 - *Note Conflicts and bugs:: or

 - *Note Tips and tricks:: or

 - the appropriate section of this online-manual.

If your problem(s) still remain you can/should send a problem report to the
ECB mailing list <ecb-list@lists.sourceforge.net>. ECB offers you a command
which does all necessary for you to send a problem report. Just call
`ecb-submit-problem-report'! Please read the documentation of this command,
see *Note Interactive ECB commands::.

This command creates a problem-report buffer for you. After that you get a
menu "Mail" (dependend on the mail-package used, the menu can have a
different name) with commands to send the problem report. But for this the
varibale `mail-user-agent' must be configured right for your system. If you
can´t get working this mechanism you can simply copy the whole problem-report
buffer after filling it out and sending it with your standard mail-client to
<ecb-list@lists.sourceforge.net>!

Please read also the documentation of the option `ecb-debug-mode' and switch
on the debug mode of ECB (also available in the Help-menu of ECB!) before
submitting a problem-report!


File: ecb.info,  Node: Upgrading,  Next: Tips and tricks,  Prev: Submitting problem report,  Up: Top

Upgrading and downloading packages
**********************************

This chapter describes all aspects of upgrading to a newer version of ECB.

The first section describes how to download and install a new package from
the web, where "package" means either ECB itself or the required libraries
semantic and eieio.

After installing a new ECB-version ECB checks if the values of the customized
ECB-options are still compatible. If not ECB does some smart things. This is
the topic of the second section.

* Menu:

* Downloading new versions::    How to download newer versions of packages
* Auto. option-upgrading::      ECB can auto. upgrade your options


File: ecb.info,  Node: Downloading new versions,  Next: Auto. option-upgrading,  Prev: Upgrading,  Up: Upgrading

Downloading new versions of ECB and/or required packages
========================================================

ECB offers the possibility to upgrade to newer versions direct from the
ECB-website. This can be done if the following requirements are satisfied:

1. A connection to the web is available

2. The tools "wget", "tar" and "gzip" are installed

   With unix-systems these tools are in the standard-distribution. If you are
   running any Microsoft Windows system then you need cygwin(1) which offers
   these tools too. On every system these tools must reside in the `PATH'
   environment-variable!

   If you are behind a firewall and you have to use a proxy you maybe need
   the following wget-configuration in your file `~/.wgetrc':

      # Define your proxies (where 8080 and 8081 are examples
      # for the portnumbers)
      http_proxy = http://your.proxy.com:8080
      ftp_proxy  = http://your.ftpproxy.com:8081
      
      # If you do not want to use proxy at all, set this to off.
      use_proxy = on

If these requirements are satisfied you can download and install both ECB
itself and also the required versions of semantic and eieio:

 * Download a new ECB-version with `ecb-download-ecb':

   A description for this command you will find in *Note Interactive ECB
   commands::. Check also the options of the customize-group 'ecb-download'
   (*note ecb-download::).

   ECB will try to download the file:

      <URL><PACKAGE>-<VERSION>.tar.gz

   where

  `URL'
      Value of the option `ecb-download-url'.

  `PACKAGE'
      The string "ecb"

  `VERSION'
      Value of the option `ecb-download-version'.

 * Download and install of required packages:

   ECB checks at start-time if the required versions of semantic and eieio
   (see `README') are installed and loaded into Emacs. If not you will be
   asked if you want auto. download and install them. If you confirm this and
   the download and install succeeds then you will get a message-buffer which
   tells you something like:

      ---------------------------------------------------------------
      Current state of the required packages semantic and eieio:
      
      - semantic 1.4:
        Installed in /usr/local/lib/site-lisp/semantic-1.4
      
      - eieio 0.17:
        Correct version already loaded!
      
      After adding the new directory to your `load-path' and then
      restarting Emacs the new package(s) can be activated.
      ---------------------------------------------------------------

   *Note*: By setting the option `ecb-version-check' to `nil' you can prevent
   ECB from checking correct versions of semantic and eieio, but it's
   strongly recommended not to do this!

---------- Footnotes ----------

(1) cygwin is available at <http://cygwin.com/>


File: ecb.info,  Node: Auto. option-upgrading,  Prev: Downloading new versions,  Up: Upgrading

Automatic upgrading of options
==============================

* Menu:

* User interface::              Options and commands you should know
* Background information::      Maybe some interesting informations


File: ecb.info,  Node: User interface,  Next: Background information,  Prev: Auto. option-upgrading,  Up: Auto. option-upgrading

User interface for option-upgrading
-----------------------------------

There are two interactive commands (*note Interactive ECB commands::):

 - `ecb-upgrade-options': Does all necessary beginning with a
   incompatibility-check for all options, upgrading/resetting incompatible
   options and ending with the display of all upgraded or reset options.

 - `ecb-display-upgraded-options': Displays a temp. buffer with all upgraded
   or resetted ECB-options with their old and new values.

If the option `ecb-auto-compatibility-check' has a non-nil value (which is
the default) then ECB does all this stuff automatically at startup. This is
very recommended!

If you are interested in some background information, read *Note Background
information::!


File: ecb.info,  Node: Background information,  Prev: User interface,  Up: Auto. option-upgrading

Background information
----------------------

Big packages like ECB will be enhanced and developed continously so sometimes
a new version must be released. Such packages offer in general a lot of
customizable options so probably some of these options change the type or are
renamed because the old type and/or name of the option makes no sense in the
new release.

Especially options which have changed the type of their value are now a
problem for the user which want to upgrade to the latest ECB-version: If the
user has saved a certain value for option X in its file `.emacs' but the type
of this saved value doesn't match the new defined type in the defcustom-form
after an ECB-upgrade then there can occur serious problems like ECB can not
be started anymore or even Emacs can not be startet without errors.

Until now there was only one way to fix these problems: The user must
manually edit his file `.emacs' and remove all entries for options which have
now another type. After this and after restarting Emacs the new
default-values of the type-changed options in the new ECB-release are active
and the user can go on using Emacs and ECB. But this approach to fix the
incompatible-option-problem has two serious drawbacks:

1. The user must manually edit the customize-section in his file `.emacs'.
   This should normally not be done and if then only by old-handed
   Emacs-users.

2. The customized value of the option X in the old-release (with the old
   type) is lost because after removing the related entry from the file
   `.emacs' the new default-value is active, so the user must re-customize
   the option X.

Ok, this is one half of the option-upgrade-problem but a new ECB-release can
also rename a option from name X to name Y because the new name Y makes much
more sense and/or is more mnemonic. If only the name has changed but not the
type this is not a serious problem like above but also annoying because the
customized value of the old-option X takes no effect in the new release but
instead the default-value of the new-option Y is now active.  But
nevertheless this problem has the drawback number 2 (see above).

The last category of upgrade-problems is a renamed option which has also
changed its type.

ECB has a solution for all these problems:

 * It checks all customized values of all ECB-optons if they are still
   type-compatible. If not then it tries to upgrade the old-value to the new
   value-type and if this is not possible then it resets the option to the
   new default value and store it via customize in the .emacs-file (or in any
   file which is used for customized options).

 * It offers a special constant `ecb-upgradable-option-alist' which allows
   the ECB-maintainers to define special transformings for renamed options so
   even the value of an old-option X can be savely transformed to the
   new-option Y and the old setting is not lost.

All these checks and transformings are done at beginning of activating ECB -
if the option `ecb-auto-compatibility-check' is not nil. If ECB has
recognized incompatible or renamed options it does its upgrading/reseting-job
so all ECB-options have correct types so ECB can start correct. After ECB is
started it displays a list of all upgraded or resetted option with their old
and new values.


File: ecb.info,  Node: Tips and tricks,  Next: Elisp programming,  Prev: Upgrading,  Up: Top

Tips and tricks
***************

This chapter contains some tips and tricks how to deal best with some
situations.

* Menu:

* Changing faces::              Changing faces in the ECB tree-buffers
* Small screens::               Working with small screens
* Big screens::                 Working with big screens
* Simulating speedbar::         Simulating speedbar without an extra frame
* Integrating speedbar::        Integrating speedbar in the ECB-frame
* Optimize scrolling::          Optimize scrolling in the edit-window
* Large directories::           Working with large directories
* Using eshell::                Optimal using of eshell in ECB


File: ecb.info,  Node: Changing faces,  Next: Small screens,  Prev: Tips and tricks,  Up: Tips and tricks

Changing faces in the ECB tree-buffers
======================================

There are two basic faces:

 * `ecb-default-general-face': Basic face for displaying an ECB-tree-buffer.

   It´s recommended to define the font-family, the font-size, the basic color
   etc. with this face.

   In GNU Emacs 21.X all faces (even the face `ecb-default-highlight-face')
   used in the ECB tree-buffers inherit from this face. Therefore the default
   attributes like font etc. of a face used in a tree-buffer can be very
   easily changed with face `ecb-default-general-face'.

   With XEmacs and GNU Emacs 20.X there is no inheritance-feature but the
   options `ecb-directories-general-face', `ecb-sources-general-face',
   `ecb-methods-general-face' and `ecb-history-general-face' offer the choice
   to use the face `ecb-default-general-face' so also with XEmacs and GNU
   Emacs 20.X the basic face-settings can be easily changed just by
   customizing the face `ecb-default-general-face'.

 * `ecb-default-highlight-face': Basic face for highlighting the current node
   in an ECB-tree-buffer.

   In GNU Emacs 21.X all highlighting faces used in the ECB tree-buffers
   inherit from this face. Therefore the default attributes like font etc. of
   a highlighting face used in a tree-buffer can be very easily changed with
   face `ecb-default-highlight-face'.

   With XEmacs and GNU Emacs 20.X there is no inheritance-feature but the
   options `ecb-directory-face', `ecb-source-face', `ecb-method-face' and
   `ecb-history-face' offer the choice to use the face
   `ecb-default-highlight-face' so also with XEmacs and GNU Emacs 20.X the
   basic face-settings can be easily changed just by customizing the face
   `ecb-default-highlight-face'.


With these faces you can change the basic attributes easily and fast for ALL
ECB-tree-buffers. But you are also able to display each ECB-tree-buffer with
different faces, see the different options for every tree-buffer mentioned
above.

*NOTE* (only for XEmacs users): Cause of the lack of the font-inheritance
feature using ONE other font for the ECB-methods buffer can NOT be achieved
just by setting `ecb-methods-general-face' to `ecb-default-general-face' and
changing the font of this default face. In addition you have to set the same
font also for the face `ecb-bucket-token-face' like in the following example:

   (defconst my-ecb-font
             "-outline-Courier-normal-normal-13-97-96-96-c-*-iso8859-1")
   (set-face-font 'ecb-default-general-face my-ecb-font)
   (set-face-font 'ecb-bucket-token-face my-ecb-font)

This code sets the new defined font `my-ecb-font' as font for all(1)
ECB-tree-buffers (incl. the methods buffer).

---------- Footnotes ----------

(1) Of course `ecb-directories-general-face', `ecb-sources-general-face',
`ecb-methods-general-face' and `ecb-history-general-face' must be set to
`ecb-default-general-face'!


File: ecb.info,  Node: Small screens,  Next: Big screens,  Prev: Changing faces,  Up: Tips and tricks

Working with small screens
==========================

If your screen is very small so you need every sqare-centimeter for
displaying the buffer which you want to edit, ECB offers you a special
layouts, where only the ECB-methods buffer is displayed on top or on
left-side. Here comes what you should/can do to work best with ECB in such a
situation:

 * First customize your ECB:

   1. Customize `ecb-layout-name' to layout-name "top2" (on top) or "left9"
      (on left-side)

   2. Ensure that `ecb-compile-window-height' is nil.

   3. Optional: Ajust the `ecb-windows-height' resp. `ecb-windows-width'.

   4. Save your changes.

 * To edit your buffers: Call `ecb-toggle-ecb-windows' (also available via
   the menu "ECB" and by `C-c . w') or `ecb-hide-ecb-windows' to hide the
   ECB-method buffer so you get all the place of your screen for editing.

 * To browse and select functions: Call `ecb-toggle-ecb-windows' or
   `ecb-show-ecb-windows' to make the ECB-method buffer visible if not
   already. If you want select a method/variable with the keyboard instead
   with the mouse you should read the section *Note Using the keyboard:: in
   this online help!

The possibility of hiding temporally the ECB windows like described above is
also useful for all the other layouts.


File: ecb.info,  Node: Big screens,  Next: Simulating speedbar,  Prev: Small screens,  Up: Tips and tricks

Working with big screens
========================

ECB offers a layout type "left-right" with special ECB-tree-windows on the
left and right side of the edit-window. The layouts "leftright1" and
"leftright2"are examples for this layout type.  See *Note Creating a new
ECB-layout:: and *Note The layout-engine:: for details about how to create or
program more layouts of this type.

Such a layout is eventually the best choice for big screens because the
several ECB-tree-windows are bigger and can display more informations without
scrolling.

With such a layout it can could be senseful to reduce the value of the option
`ecb-windows-width' compared to layouts of type left or right. A value of
max. 0.25 should be enough.


File: ecb.info,  Node: Simulating speedbar,  Next: Integrating speedbar,  Prev: Big screens,  Up: Tips and tricks

Simulating speedbar without an extra frame
==========================================

You can simulate a speedbar-like layout within ONE frame by doing the
following:

1. Customize `ecb-layout-name' to layout name "left9", "left12", "left13" or
   "left14" dependend to what you like.

2. Optional: Ensure that `ecb-compile-window-height' is nil.

3. Optional: Ajust the `ecb-windows-width'.

4. Optional: Customize `ecb-toggle-layout-sequence' and toggle very fast
   between several layouts by `ecb-toggle-layout'. See the doc-strings!

5. Optional: Customize `ecb-show-sources-in-directories-buffer' to not nil if
   the choosen layout (see 1. and 4.) contains a directories-tree-buffer.

6. Save your changes.

But not only simulating speedbar is possible but also full integrating it
into the ECB and the ECB-frame, *Note Integrating speedbar::.


File: ecb.info,  Node: Integrating speedbar,  Next: Optimize scrolling,  Prev: Simulating speedbar,  Up: Tips and tricks

Integrating speedbar in the ECB-frame
=====================================

It is very easy to integrate speedbar in the directories window of ECB. This
makes sense for people...

 * ...who likes the speedbar way of handling directories and source-files but
   also like the ECB-way of displaying the buffer-contents (like methods and
   variables in a source-file)

 * ...who likes the speedbar way of browsing things like directories, files,
   file-contents etc. but who dislike the extra speedbar-frame

Regardles the group you belong, with the speedbar-integration feature of ECB
you can combine both worlds, the speedbar- and the ECB-world:

1. Choose a layout which contains a directories-window but no
   sources-window(1).

   Because speedbar has also display-modes for buffers and info-nodes and
   some other useful things (which can be changed by the speedbar-command
   `speedbar-change-initial-expansion-list', which is bound for convenience
   to the keysequence `C-c . bc' in the `ecb-key-map') we recommend layouts
   like "left15" or "leftright3" for using with speedbar.

2. Set the option `ecb-use-speedbar-for-directories' to not nil. After this
   the directories window of ECB will contain a full featured speedbar (the
   only difference to standard speedbar is not residing in an extra frame).

Note: If you belong to the first group of people (s.a.) a similar effect and
useability is available by setting `ecb-use-speedbar-for-directories' to nil
and setting `ecb-show-sources-in-directories-buffer' to not nil, because this
combination displays also directories and sources in one window.

So with the option `ecb-use-speedbar-for-directories' you have the choice
which way of displaying and handling directories and source-files you want
(the speedbar- or the ECB-way).

During speedbar is running within ECB (i.e.
`ecb-use-speedbar-for-directories' is not nil) the speedbar-command
`speedbar' is disabled and the speedbar-command `speedbar-get-focus' switches
between the speedbar-window and the edit-window(2).

*NOTE*: ECB can only integrate speedbar-versions >= 0.14beta1!  If you use
lower versions of speedbar `ecb-use-speedbar-for-directories' has no effect.

---------- Footnotes ----------

(1) The latter one is not needed if you use speedbar because speedbar
displays directories and sources in one window. But if you like you can also
use a sources window too...

(2) The standard behavior is switching between the speedbar-frame and the
attached frame, but this make obviously no sense during running speedbar with
ECB.


File: ecb.info,  Node: Optimize scrolling,  Next: Large directories,  Prev: Integrating speedbar,  Up: Tips and tricks

Optimize scrolling in the edit-window
=====================================

Emacs 20.X seems to slow down scrolling if there is a horizontal split in the
frame and/or a lot of overlays in the buffer which is scrolled.  This is
independend of ECB! But because almost all layouts of ECB uses horizontal
splits of the frame and because ECB is based on semantic which uses overlays
intensively there can be poor scrolling performance in large buffers,
especially with java-buffers in `jde-mode'.

This scrolling performance can be increased a lot if the options
`scroll-conservatively' and `scroll-step' are set appropriatelly: The former
one should have a value of 0 during ECB is active and the latter one a value
of either 0 or > 1 (the exact value depends on the power of your machine).

As far as we know this is not a problem of Emacs 21.X or XEmacs. With these
versions of Emacs there should be no scrolling problem even with
`scroll-step' has value 1.


File: ecb.info,  Node: Large directories,  Next: Using eshell,  Prev: Optimize scrolling,  Up: Tips and tricks

Working with large directories
==============================

If `ecb-source-path' contains directories with many files and subdirs,
especially if these directories are mounted net-drives ("many" means here
something > 1000, dependend on the speed of the net-connection and the
machine), actualizing the sources- and/or directories- buffer of ECB (if
displayed in current layout!) can slow down dramatically. If this is a
problem the contents of certain directories can be cached which increases the
speed a lot. See `ecb-cache-directory-contents'.


File: ecb.info,  Node: Using eshell,  Prev: Large directories,  Up: Tips and tricks

Optimal using of eshell in ECB
==============================

ECB offers a very smart integration of the "eshell" if you are using a
compile window (*note Temp- and compile-buffers::)(1)

Here is a short summary of provided features:

 * Ability to jump to the eshell buffer within the compilation window `C-c .
   e'. If the eshell isn't running it will be started.

 * Expands the compilation window when you run commands. So for example it
   allows you to view the eshell in minimized mode and then when you run "ls"
   the window automatically expands (but always depending of the output of
   the command you run).

 * Sychronizes the current directory of the eshell with the current buffer in
   the edit-window of ECB.

 * Provides smart window layout of the eshell buffer. This makes sure that
   the eshell is taking up the exact amount of space and that nothing is
   hidden.

Here comes a detailled explanation of these features and how to use it:

Just call `ecb-eshell-goto-eshell' (bound to `C-c . e') and eshell will
displayed in the compile-window of ECB (if eshell is not already alive then
it will be started automatically).

ECB tries to display the contents of the eshell-buffer as best as possible,
means ECB can autom. enlarge and shrink the compile-window so the contents of
the eshell are fitting the window. See option
`ecb-eshell-enlarge-when-selecting'. Normally this is done autom.  but you
can also do it on demand with the command `ecb-eshell-enlarge'.

ECB tries also to recenter the eshell-buffer as best as possible.  Normally
this is done autom but you can do it on demand with the command
`ecb-eshell-recenter'.

If option `ecb-eshell-synchronize' is true then ECB always syncronizes the
command prompt of eshell with the directory of current source-buffer of the
edit-window.

With the option `ecb-eshell-auto-activate' you can start eshell autom. in the
compile-window when ECB is started but of course if a compile-window exists.

---------- Footnotes ----------

(1) Of course you can use eshell also if there is no compile-window. Then it
is just displayed in the edit-window and there is no special integration.


File: ecb.info,  Node: Elisp programming,  Next: Conflicts and bugs,  Prev: Tips and tricks,  Up: Top

Entry points for elisp programmers
**********************************

This chapter describes how ECB can be used/programmed/driven by an
elisp-program. This contains:

* Menu:

* List of variables::           Which variables an elisp-program can use
* List of hooks::               All available hooks
* tree-buffer::                 Some words to the tree-buffer-library
* Adviced functions::           How to deal with the adviced functions
* The layout-engine::           Programming new layouts and special windows


File: ecb.info,  Node: List of variables,  Next: List of hooks,  Prev: Elisp programming,  Up: Elisp programming

Variables for elisp-programs
============================

Variables an elisp-program can use:

 * `ecb-source-path-functions'

Look at the documentation of these variables to get a description.


File: ecb.info,  Node: List of hooks,  Next: tree-buffer,  Prev: List of variables,  Up: Elisp programming

Available hooks of ECB
======================

The following hooks are available:

 * `ecb-activate-before-new-frame-created-hook'

 * `ecb-activate-before-layout-draw-hook'

 * `ecb-activate-hook'

 * `ecb-before-activate-hook'

 * `ecb-before-deactivate-hook'

 * `ecb-common-tree-buffer-after-create-hook'

 * `ecb-current-buffer-sync-hook'

 * `ecb-deactivate-hook'

 * `ecb-directories-buffer-after-create-hook'

 * `ecb-hide-ecb-windows-after-hook'

 * `ecb-hide-ecb-windows-before-hook'

 * `ecb-history-buffer-after-create-hook'

 * `ecb-methods-buffer-after-create-hook'

 * `ecb-redraw-layout-after-hook'

 * `ecb-redraw-layout-before-hook'

 * `ecb-show-ecb-windows-after-hook'

 * `ecb-show-ecb-windows-before-hook'

 * `ecb-sources-buffer-after-create-hook'

Look at the documentation of these hooks to get a detailled description.


File: ecb.info,  Node: tree-buffer,  Next: Adviced functions,  Prev: List of hooks,  Up: Elisp programming

The library tree-buffer.el
==========================

The library tree-buffer.el is ECB independent and can be used for other
applications too. But such an application is not allowed to use any of the
variables of tree-buffer.el especially not the variable *tree-buffers*!

`tree-buffers': Only for internal use. It contains all tree-buffers of
current Emacs-instance, means *all* tree-buffers of *all* applications which
uses currently tree-buffers. Every application must store its own collection
of tree-buffers in an own variable! For example: ECB stores its tree-buffer
set in `ecb-tree-buffers'!

An application may only use the methods tree-buffer.el provides but no
internal variables!


File: ecb.info,  Node: Adviced functions,  Next: The layout-engine,  Prev: tree-buffer,  Up: Elisp programming

How to deal with the adviced window-functions
=============================================

ECB offers for packages which work during activated ECB three macros for easy
temporally(1) using all original-functions, all adviced functions or only
some adviced functions:

 - `ecb-with-original-functions'

 - `ecb-with-adviced-functions'

 - `ecb-with-some-adviced-functions'

For a detailed explanation of each macro read the documentation with
`describe-function'!

---------- Footnotes ----------

(1) I.e. regardless of the settings in `ecb-advice-window-functions'!


File: ecb.info,  Node: The layout-engine,  Prev: Adviced functions,  Up: Elisp programming

How to program new layouts and new special windows
==================================================

There are two aspects concerning this topic:

1. Programming a new layout which contains several special ECB-windows like
   directories, sources, methods, history or other special windows and
   arranging them in a new outline.

2. Creating complete new special windows (e.g. a local-variable window for a
   graphical debugger like JDEbug of JDEE), adding them to a layout and
   synchronizing them with the edit-window.

The former one covers merely the layout-programming aspect which is explained
in the first subsection of this chapter whereas the latter one covers all
aspects of creating new special windows and what is necessary to synchronize
it with the edit-window of ECB. This is explained in the second subsection
which will refers to the first subsection.

* Menu:

* Programming a new layout::    How to program a new layout
* Programming special windows:: Aspects of programming special windows
* The layout-engine API::       The complete layout-engine API


File: ecb.info,  Node: Programming a new layout,  Next: Programming special windows,  Prev: The layout-engine,  Up: The layout-engine

How to program a new layout
---------------------------

If you just want creating a new layout with the standard ECB-windows like
directories, sources, methods and history it's is strongly recommended (at
least for Emacs 21.X and XEmacs 21.X users) to define the new layout
interactively with the command `ecb-create-new-layout' (*note Creating a new
ECB-layout::).

But if you want (with Emacs 20.X you must) programming a new layout with
elisp-code and if this layout should even contain other special windows than
the standard ECB-windows use the macro `ecb-layout-define' (the following
definiton has stripped the prefix "ecb-" for better indexing this manual):

 - Macro: layout-define name type &rest create-code
   Creates a new ECB-layout with name NAME. TYPE is the type of the new
   layout and is literal, i.e. not evaluated. It can be left, right, top or
   left-right. DOC is the docstring for the new layout-function
   "ecb-layout-function-<name>". CREATE-CODE is all the lisp code which is
   necessary to define the ECB-windows/buffers. This macro adds the layout
   with NAME and TYPEto the internal variable `ecb-available-layouts'.

   Preconditions for CREATE-CODE:
   1. Current frame is splitted at least in one edit-window and the column
      (for layout types left, right and left-right) resp. row (for a top
      layout) for the special ECB-windows/buffers. Depending on the value of
      the option `ecb-compile-window-height' there is also a compile window
      at the bottom of the frame which is stored in `ecb-compile-window'.

   2. All windows are not dedicated.

   3. Neither the edit-window nor the compile-window (if there is one) are
      selected for types left, right and top. For type left-right the left
      column-window is selected

   Postconditions for CREATE-CODE:
   1. The edit-window must be the selected window and must not be dedicated
      and splitted.

   Things CREATE-CODE has to do:
   1. Splitting the ECB-tree-windows-column(s)/row (s.a.) in all the
      ECB-windows the layout should contain (directories, sources, methods
      and history). The split must not be done with other functions than
      `ecb-split-hor' and `ecb-split-ver'! It is recommened not to to use a
      "hard" number of split-lines or -rows but using fractions between 0.1
      and 0.9!

   2. Making each special ECB-window a dedicated window. This can be done with
      one of the following functions:
       - `ecb-set-directories-buffer'

       - `ecb-set-sources-buffer'

       - `ecb-set-methods-buffer'

       - `ecb-set-history-buffer'
      Each layout can only contain one of each tree-buffer-type!

      In addition to these functions there is a general macro
      `ecb-with-dedicated-window'. This macro performs any arbitrary code in
      current window and makes the window autom. dedicated at the end. This
      can be used by third party packages like JDEE to create arbitrary
      ECB-windows besides the standard tree-windows.

      It's strongly recommended not to use any other function/macro to make a
      window dedicated!

   3. Every(!) special ECB-window must be dedicated as described in 2.

   4. CREATE-CODE must work correctly regardless if there is already a
      compile-window (stored in `ecb-compile-window') or not
      (`ecb-compile-window' is nil).

   Things CREATE-CODE can do or can use:
   1. The value of `ecb-compile-window' which contains the compile-window (if
      there is one). Using the values of `ecb-compile-window-height',
      `ecb-windows-width', `ecb-windows-height'.

   Things CREATE-CODE must NOT do:
   1. Splitting the edit-window

   2. Creating a compile-window

   3. Deleting the edit-window, the compile-window (if there is any) or the
      ECB-windows-column(s)/row (see Precondition 1.)

   4. Referring to the value of `ecb-edit-window' because this is always nil
      during CREATE-CODE.

   Postconditions for CREATE-CODE:
   1. The edit-window must be the selected window and must not be dedicated.

   2. Every window besides the edit-window \(and the compile-window) must be
      a dedicated window \(e.g. a ECB-tree-window).

Use this macro to program new layouts within your `.emacs' or any other file
which is loaded into your Emacs. After loading the file(s) with all the new
layout-definitions you can use it by customizing the option `ecb-layout-name'
to the appropriate name or with the command `ecb-change-layout'.

With the function `ecb-layout-undefine' you can remove a layout from the list
of available layouts:

 - Function: layout-undefine name
   Unbind ecb-layout-function-<NAME>, ecb-delete-window-ecb-windows-<NAME>,
   ecb-delete-other-windows-ecb-windows-<NAME> and remove `NAME' from
   `ecb-available-layouts'.

Here is an example for a new layout programmed with `ecb-layout-define':

   (ecb-layout-define "my-own-layout" left nil
     ;; The frame is already splitted side-by-side and point stays in the
     ;; left window (= the ECB-tree-window-column)
   
     ;; Here is the creation code for the new layout
   
     ;; 1. Defining the current window/buffer as ECB-methods buffer
     (ecb-set-methods-buffer)
     ;; 2. Splitting the ECB-tree-windows-column in two windows
     (ecb-split-ver 0.75 t)
     ;; 3. Go to the second window
     (other-window 1)
     ;; 4. Defining the current window/buffer as ECB-history buffer
     (ecb-set-history-buffer)
     ;; 5. Make the ECB-edit-window current (see Postcondition above)
     (select-window (next-window)))

This layout definition defines a layout with name "my-own-layout" which looks
like:

   -------------------------------------------------------
   |              |                                      |
   |              |                                      |
   |              |                                      |
   |  Methods     |                                      |
   |              |                                      |
   |              |                                      |
   |              |               Edit                   |
   |              |                                      |
   |              |                                      |
   |--------------|                                      |
   |              |                                      |
   |  History     |                                      |
   |              |                                      |
   -------------------------------------------------------
   |                                                     |
   |                    Compilation                      |
   |                                                     |
   -------------------------------------------------------


File: ecb.info,  Node: Programming special windows,  Next: The layout-engine API,  Prev: Programming a new layout,  Up: The layout-engine

All aspects of programming special windows
------------------------------------------

ECB offers a flexible programmable layout-engine for other packages to
display their own contents and informations in special ECB-windows. An
example could be a graphical debugger which offers a special window for
displaying local variables and another special window for messages from the
debugger-process (like JDEbug of JDEE(1)).

This section explains all aspects of programming new special windows, adding
them to a new layout and synchronizing them with edit-window of ECB. This can
be done best with an easy example which nevertheless covers all necessary
aspects to be a good example and skeleton for complex tools (like a graphical
debugger) which want to use the layout-engine of ECB do display their own
information.

Here comes the example:

The outline of the example layout:
..................................

   -------------------------------------------------------
   |Bufferinfo for <filename>:            |[prior]       |
   |Type: file                            |[next]        |
   |Size: 23456                           |              |
   |Modes: rw-rw-rw-                      |              |
   |                                      |              |
   |-----------------------------------------------------|
   |                                                     |
   |                                                     |
   |                                                     |
   |                                                     |
   |                 edit-window                         |
   |                                                     |
   |                                                     |
   |                                                     |
   |                                                     |
   -------------------------------------------------------
   |                                                     |
   |                 compilation-window                  |
   |                                                     |
   -------------------------------------------------------

The description of the layout-contents
......................................

The top-left window always displays informations about the current buffer in
the selected edit-window. This window demonstrates how autom. synchronizing a
special window/buffer of a layout with current edit-window.

The top-right window contains an read-only "action-buffer" and offers two
buttons which can be used with the middle mouse-button to scroll the
edit-window. This is not very senseful but it demonstrates how to control the
edit-window with actions performed in a special window/buffer of a layout.

(If you have not set a compilation-window in `ecb-compile-window-height' then
the layout contains no durable compilation window and the other windows get a
little more place).

The example code
................

Now let have us a look at the several parts of the elisp-program needed to
program this new example layout. ECB contains a library `ecb-examples.el'
which contains the full working code of this example. To test this example
and to play with it you can load this library into Emacs (with `load-library'
for example) and then calling `ecb-change-layout' (bound to `C-c . l') and
inserting "example-layout1" as layout-name. An alternative is calling
`ecb-examples-activate' and `ecb-examples-deactivate'. For details see file
`ecb-examples.el'.

The following steps only contain code-skeletons to demonstrate the principle.
The full working code is available in `ecb-examples.el'.

The bufferinfo buffer of the example
....................................

The name of the bufferinfo buffer:

   (defconst ecb-examples-bufferinfo-buffer-name " *ECB buffer info*")

Two helper functions for displaying infos in a special buffer:

   (defun ecb-examples-print-file-attributes (buffer filename)
     (ecb-with-readonly-buffer buffer
       (erase-buffer)
       (insert (format "Bufferinfo for %s:\n\n" filename))
       ;; insert with the function `file-attributes' some informations
       ;; about FILENAME.
       ))
   
   (defun ecb-examples-print-non-filebuffer (buffer buffer-name)
     (ecb-with-readonly-buffer buffer
       (erase-buffer)
       ;; analogous to `ecb-examples-print-file-attributes'
       ))

The main synchronizing function added to `ecb-current-buffer-sync-hook' for
autom. evaluation by `ecb-current-buffer-sync' which runs dependend on the
values of `ecb-window-sync' and `ecb-window-sync-delay'. This function
synchronizes the bufferinfo buffer with the current buffer of the edit-window
if that buffer has changed.

   (defun ecb-examples-bufferinfo-sync ()
     (ecb-do-if-buffer-visible-in-ecb-frame
         'ecb-examples-bufferinfo-buffer-name
   
       ;; here we can be sure that the buffer with name
       ;; `ecb-examples-bufferinfo-buffer-name' is displayed in a window
       ;; of `ecb-frame'
   
       (let ((buffer (get-buffer ecb-examples-bufferinfo-buffer-name))
             (filename (buffer-file-name (current-buffer))))
   
         (if (and filename (file-readable-p filename))
   
             ;; real filebuffers
             ;; here we could add a smarter mechanism; see ecb-examples.el
             (ecb-examples-print-file-attributes buffer filename))
   
           ;; non file buffers like help-buffers etc...
           (setq ecb-examples-bufferinfo-last-file nil)
           (ecb-examples-print-non-filebuffer buffer
                                              (buffer-name (current-buffer)))
           ))))

This is all what we need for the special bufferinfo buffer. We have
demonstrated already two of the important functions/macros of the
layout-engine API of ECB: `ecb-with-readonly-buffer' and
`ecb-do-if-buffer-visible-in-ecb-frame' (*note The layout-engine API::.
Especially the latter macro is strongly recommended for programming good
synchronizing functions which do not waste CPU!

The action buffer of the example
................................

The name of the action-buffer:

   (defconst ecb-examples-action-buffer-name " *ECB action buffer*")

Two helper functions for creating a readonly action-buffer with a special
local keymap for the middle-mouse-button and two buttons [prior] and [next]:

   (defun ecb-examples-insert-text-in-action-buffer (text)
     (let ((p (point)))
       (insert text)
       (put-text-property p (+ p (length text)) 'mouse-face 'highlight)))
   
   (defun ecb-examples-action-buffer-create ()
     (save-excursion
       (if (get-buffer ecb-examples-action-buffer-name)
           (get-buffer ecb-examples-action-buffer-name)
   
         (set-buffer (get-buffer-create ecb-examples-action-buffer-name))
   
         ;; we setup a local keymap and bind middle-mouse-button
         ;; see ecb-examples.el for the full code
   
         ;; insert the action buttons [prior] und [next] and make it read-only
   
         (ecb-with-readonly-buffer (current-buffer)
           (erase-buffer)
           (ecb-examples-insert-text-in-action-buffer "[prior]")
           ;; analogous for the [next] button
           )
   
         (current-buffer))))

The function which performs the actions in the action-buffer if clicked with
the middle-mouse button onto a button [next] or [prior].

   (defun ecb-examples-action-buffer-clicked (e)
     (interactive "e")
     (mouse-set-point e)
     (let ((line (buffer-substring (ecb-line-beginning-pos) (ecb-line-end-pos))))
       (cond ((string-match "prior" line)
              (ecb-select-edit-window)
              (call-interactively 'scroll-down))
             ((string-match "next" line)
              ;; analogous for [next]
              ))))

We do not need more code for the action buffer. All of the code is standard
emacs-lisp which would also needed if used without ECB.

Adding the bufferinfo- and action-buffer to a new layout
........................................................

Now we add the bufferinfo- and the action-buffer to a new layout of type top
with name "example-layout1":

   (ecb-layout-define "example-layout1" top
   
     ;; dedicating the bufferinfo window to the bufferinfo-buffer
     (ecb-with-dedicated-window
      (switch-to-buffer (get-buffer-create ecb-examples-bufferinfo-buffer-name))
      (setq buffer-read-only t))
   
     ;; creating the action-window
     (ecb-split-hor 0.75)
   
     ;; dedicate the action window to the action-buffer
     (ecb-with-dedicated-window
      (switch-to-buffer (buffer-name (ecb-examples-action-buffer-create))))
   
     ;; select the edit-window
     (select-window (next-window)))

This all what we need to define the new layout. We have demonstrated another
important function of the layout-engine API of ECB:
`ecb-with-dedicated-window' (*note The layout-engine API::). See *Note
Programming a new layout:: for more details of the pure layout-programming
task.

Synchronizing the bufferinfo-buffer automatically
.................................................

The last thing we have to do is to synchronize the bufferinfo-buffer with
current edit-window. We do this by adding `ecb-examples-bufferinfo-sync' to
the hook `ecb-current-buffer-sync-hook'' (The file `ecb-examples.el' shows a
smarter mechanism for (de)activating the new layout and the synchronization
but this works also very well).

   (add-hook 'ecb-current-buffer-sync-hook 'ecb-examples-bufferinfo-sync)

Now we have all code for the new layout and the new layout-buffers.  The
example is ready for use; just load `ecb-examples.el' (s.a.).

---------- Footnotes ----------

(1) JDEE is available at <http://jdee.sunsite.dk/>


File: ecb.info,  Node: The layout-engine API,  Prev: Programming special windows,  Up: The layout-engine

The complete layout-engine API of ECB
-------------------------------------

This section lists all functions, macros, variables and user-options the
layout-engine API of ECB offers foreign packages. Call `describe-function'
resp. `describe-variable' to get a detailed description.

Functions for programming layout and special windows:
 - ecb-available-layouts-member-p

 - ecb-compile-window-live-p

 - ecb-do-if-buffer-visible-in-ecb-frame

 - ecb-edit-window-live-p

 - ecb-layout-define

 - ecb-layout-switch

 - ecb-layout-undefine

 - ecb-point-in-compile-window

 - ecb-point-in-edit-window

 - ecb-select-edit-window

 - ecb-with-dedicated-window

Utility functions/macros:
 - ecb-enlarge-window

 - ecb-fix-filename

 - ecb-split-hor

 - ecb-split-ver

 - ecb-window-live-p

 - ecb-with-readonly-buffer

Some other maybe usefull functions/macros:
 - ecb-with-adviced-functions

 - ecb-with-original-functions

 - ecb-with-some-adviced-functions

Some useful *READONLY* variables:
 - ecb-compile-window

 - ecb-edit-window

 - ecb-last-edit-window-with-point

 - ecb-last-source-buffer

User-options and hooks related to the layout-engine API:
 - ecb-current-buffer-sync-hook

 - ecb-hide-ecb-windows-after-hook

 - ecb-hide-ecb-windows-before-hook

 - ecb-redraw-layout-after-hook

 - ecb-redraw-layout-before-hook

 - ecb-show-ecb-windows-after-hook

 - ecb-show-ecb-windows-before-hook

 - ecb-windows-height

 - ecb-windows-width

 - ecb-compile-window-height


File: ecb.info,  Node: Conflicts and bugs,  Next: FAQ,  Prev: Elisp programming,  Up: Top

Known conflicts and bugs of ECB
*******************************

This chapter describes all already known conflicts with other packages and
also the known (and currently unfixed) bugs of ECB. If possible then a
practicable solution or workaround is described.

* Menu:

* Conflicts::                   Known conflicts with other packages
* Bugs::                        Known bugs


File: ecb.info,  Node: Conflicts,  Next: Bugs,  Prev: Conflicts and bugs,  Up: Conflicts and bugs

Known conflicts with other packages
===================================

Here is a list of known conflicts of ECB with other packages and helpful
solutions/hints/workarounds:

Package avoid.el
----------------

With GNU Emacs 20.X ECB must deactivate `mouse-avoidance-mode' if the option
`ecb-show-node-info-in-minibuffer' activates for at least one ECB tree-buffer
'if-too-long or 'always. This is done automatically but only as long ECB is
activated.

Package calculator.el
---------------------

If the edit-window is already splitted then calling `calculator' uses the
whole "other" edit-window for the calculator. With an unsplitted edit-window
the calculator window has it´s normal size of about 2 lines. Therefore it´s
recommended to set `calculator-electric-mode' during ECB activation to not
nil so calculator uses always the echo-area instead of creating a new small
window!

Package calendar.el
-------------------

With activated ECB `calendar' does not shrink it´s window to the small size
but splits the window equally. But if you add this to your `.emacs' it works:

   (add-hook 'initial-calendar-window-hook
             (function (lambda ()
                         (when (and ecb-minor-mode
                                    (ecb-point-in-edit-window))
                           ;; if no horizontal split then nothing
                           ;; special to do
                           (or (= (frame-width) (window-width))
                               (shrink-window (- (window-height) 9))))
                        )))

Package cygwin-mount.el
-----------------------

There can be a conflict between ECB and cygwin-mount.el if the following
conditions are true:

 - You are working with cygwin-mount.el (sounds clear :-)

 - You have set `cygwin-mount-build-mount-table-asynch' to not nil

 - ECB is automatically started after starting Emacs (e.g. with
   `ecb-auto-activate' or calling `ecb-activate' in `window-setup-hook')

 - Your Emacs-setup contains a call of `cygwin-mount-activate'.

Under these circumstances Emacs 21.X sometimes eats up the whole CPU (at
least with Windows XP) and the cygwin-mount-table is never build.

But there is an easy work-around: Call `cygwin-mount-activate' first *AFTER*
ECB is activated. This can be done with the hook `ecb-activate-hook':

   (add-hook 'ecb-activate-hook
             (function (lambda ()
                         (require 'cygwin-mount)
                         (setq cygwin-mount-build-mount-table-asynch t)
                         (cygwin-mount-activate))))

Package follow-mouse.el
-----------------------

The following is only relevant for Emacs 20.X!

ECB works very well with follow-mouse if follow-mouse is turned on *BEFORE*
ECB is activated (e.g. within the `ecb-activate-hook'). But if you activate
follow-mouse first after ECB is already activated, then the follow-mouse
stuff prevents the complete node-name to be displayed in the echo-area if
mouse moves over it. Because ECB has a much more intelligent mouse tracking
mechanism than follow-mouse the follow-mouse stuff profit from ECB and works
even better and saver as without activated ECB!

Package Gnus (Newsreader)
-------------------------

It is recommended not to use Gnus and ECB simultaniously in one frame because
each of them has its own window-management and probably there will be
conflicts. Use different frames for ECB and Gnus!

Package VC (Version Control)
----------------------------

The variable `vc-delete-logbuf-window' must be set to nil during active ECB.
This can be done with the hooks mentioned in *Note Elisp programming::.


File: ecb.info,  Node: Bugs,  Prev: Conflicts,  Up: Conflicts and bugs

Known bugs
==========

This section describes all currently known bugs of ECB. The maintainers of
ECB try to fix these bugs as soon as possible.


File: ecb.info,  Node: FAQ,  Next: Command Index,  Prev: Conflicts and bugs,  Up: Top

Frequent asked questions
************************

This is the Emacs Code Browser FAQ.

QUESTION                          ANSWER

What is the first step i          Read carefully the complete online-help of
should do if i have problems      ECB.
with ECB?                         

What should i do, if a have a     Send a problem-report to the ECB-mailing-list
problem which can not be          with the command `ecb-submit-problem-report',
solved even after reading the     see *Note Submitting problem report::.
online-help?                      

What should i do, if another      Take a look into *Note Conflicts::. If your
package seems not to work         package is not listed there then submit a
correct with ECB?                 problem-report.

Why are the lines in the ECB-,    Check the variable
temp- and compilation-buffers     `truncate-partial-width-windows' and set it to
not wrapped but truncated?        nil.

Why doesn't ECB work correct      The variable `vc-delete-logbuf-window' must
with VC?                          be set to nil during active ECB. This can be
                                  done with the hooks of ECB.

Does ECB support C++ as well      For older versions of ECB (< 1.80) this
as Java?                          depends strongly on the used
                                  semantic-version, but all semantic-versions
                                  >= semantic-1.4beta13 should support C++
                                  really well. All versions of ECB >= 1.80
                                  support C++ as well as Java.

Does ECB support Perl?            This depends completely on semantic. If there
                                  is a semantic-BNF for Perl then semantic can
                                  parse Perl and then in turn ECB supports Perl.
                                  Check semantic if Perl is supported or write
                                  your own Perl-BNF for semantic.

Does ECB support language XYZ?    See question "Does ECB support Perl?" and
                                  replace "Perl" with "XYZ" in the answer.

How to add new languages to       Add the language XYZ to semantic (perform all
ECB?                              necessary steps described in the
                                  semantic-manual) and ECB will automatically
                                  support language XYZ!  There is nothing to do
                                  in ECB itself!

Why does ECB not recognize my     Your C++-files have probably an extension
source-files for C++?             which is not mapped to c++-mode in
                                  `auto-mode-alist' and/or your own Emacs-setup
                                  has "destroyed" the correct value of the
                                  hook-variable `c++-mode-hook', see *Note
                                  Setting up Emacs::.

Why doesn't ECB display the       There can be several reasons: First the value
node name in the echo area if     of the option
mouse moves over it?              `ecb-show-node-name-in-minibuffer' must be
                                  either `always' or `if-too-long'. If this is
                                  ok, then maybe you have turned on
                                  follow-mouse AFTER activating ECB;
                                  follow-mouse must be turned on BEFORE ECB is
                                  acivated, e.g. in the `ecb-activate-hook'!
                                  But with Emacs 21.X and XEmacs there are no
                                  problems with this feature, just activate it.

What is the reason for poor       Set `scroll-conservatively' to 0 and
scrolling performance with GNU    `scroll-step' to a value > 1. For the exact
Emacs 20.X in the edit-windows    reason look at *Note Optimize scrolling::.
and what can i do?                

Is it possible to make the        You can use the library "desktop.el" which
history of ECB persistent?        works very well with ECB.  Then all files of
                                  your recent Emacs-session will be opened
                                  automatically after next Emacs-start and will
                                  be added automatically to the ECB-history
                                  after ECB-start.

Is there an                       For Java the JDEE(1) has this feature and for
"Intellisense"-mechanism like     all other languages semantic offer something
with other IDEs?                  similar, see
                                  <http://cedet.sourceforge.net/intellisense.shtml>

Can i use ECB in combination      You can, but it is recommended not to use
with Gnus within one frame?       Gnus and ECB simultaniously in one frame
                                  because each of them has it's own
                                  window-management and probably there will be
                                  conflicts. Use different frames for ECB and
                                  Gnus!

---------- Footnotes ----------

(1) <http://jdee.sunsite.dk/>


File: ecb.info,  Node: Command Index,  Next: Option Index,  Prev: FAQ,  Up: Top

Command Index
*************

This index contains all user commands of ECB.

*Note*: The commands in this index are listed without the prefix "ecb-" (e.g.
the command `ecb-activate' is listed with name "activate").

* Menu:

* activate:                              Interactive ECB commands.
* add-all-buffers-to-history:            Interactive ECB commands.
* change-layout:                         Interactive ECB commands.
* clear-history:                         Interactive ECB commands.
* create-new-layout:                     Interactive ECB commands.
* current-buffer-sync:                   Interactive ECB commands.
* cycle-through-compilation-buffers:     Interactive ECB commands.
* deactivate:                            Interactive ECB commands.
* delete-new-layout:                     Interactive ECB commands.
* display-upgraded-options:              Interactive ECB commands.
* download-ecb:                          Interactive ECB commands.
* goto-window-compilation:               Interactive ECB commands.
* goto-window-directories:               Interactive ECB commands.
* goto-window-edit1:                     Interactive ECB commands.
* goto-window-edit2:                     Interactive ECB commands.
* goto-window-history:                   Interactive ECB commands.
* goto-window-methods:                   Interactive ECB commands.
* goto-window-sources:                   Interactive ECB commands.
* layout-define:                         Programming a new layout.
* layout-undefine:                       Programming a new layout.
* minor-mode:                            Interactive ECB commands.
* nav-goto-next:                         Interactive ECB commands.
* nav-goto-previous:                     Interactive ECB commands.
* rebuild-methods-buffer:                Interactive ECB commands.
* redraw-layout:                         Interactive ECB commands.
* show-help:                             Interactive ECB commands.
* show-layout-help:                      Interactive ECB commands.
* submit-problem-report:                 Interactive ECB commands.
* toggle-ecb-windows:                    Interactive ECB commands.
* toggle-enlarged-compilation-window:    Interactive ECB commands.
* toggle-layout:                         Interactive ECB commands.
* update-directories-buffer:             Interactive ECB commands.
* upgrade-options:                       Interactive ECB commands.


File: ecb.info,  Node: Option Index,  Next: Concept Index,  Prev: Command Index,  Up: Top

Option Index
************

This index contains all customizable options of ECB.

*Note*: All options in this index are listed without the prefix "ecb-" (e.g.
the option `ecb-layout-name' is listed with name "layout-name").

* Menu:

* activate-before-layout-draw-hook:      ecb-general.
* activate-before-new-frame-created-hook: ecb-layout.
* activate-hook:                         ecb-general.
* add-path-for-not-matching-files:       ecb-directories.
* advice-window-functions:               ecb-layout.
* auto-activate:                         ecb-general.
* auto-compatibility-check:              ecb-general.
* auto-expand-directory-tree:            ecb-directories.
* auto-update-methods-after-save:        ecb-methods.
* before-activate-hook:                  ecb-general.
* before-deactivate-hook:                ecb-general.
* bucket-token-display:                  ecb-methods.
* cache-directory-contents:              ecb-directories.
* clear-history-behavior:                ecb-history.
* common-tree-buffer-after-create-hook:  ecb-general.
* compilation-buffer-names:              ecb-compilation-content.
* compilation-major-modes:               ecb-compilation-content.
* compile-window-enlarge-by-select:      ecb-layout.
* compile-window-height:                 ecb-layout.
* compile-window-temporally-enlarge:     ecb-layout.
* create-layout-file:                    ecb-create-layout.
* current-buffer-sync-hook:              ecb-general.
* deactivate-hook:                       ecb-general.
* debug-mode:                            ecb-general.
* directories-buffer-after-create-hook:  ecb-directories.
* directories-buffer-name:               ecb-directories.
* directories-general-face:              ecb-face-options.
* directory-face:                        ecb-face-options.
* download-delete-archive:               ecb-download.
* download-url:                          ecb-download.
* download-version:                      ecb-download.
* ecb-create-layout-frame-height:        ecb-create-layout.
* ecb-create-layout-frame-width:         ecb-create-layout.
* enlarged-compilation-window-max-height: ecb-layout.
* eshell-auto-activate:                  ecb-eshell.
* eshell-enlarge-when-selecting:         ecb-eshell.
* eshell-synchronize:                    ecb-eshell.
* exclude-parents-regexp:                ecb-methods.
* excluded-directories-regexp:           ecb-directories.
* font-lock-tokens:                      ecb-methods.
* grep-find-function:                    ecb-directories.
* grep-function:                         ecb-directories.
* help-html-path:                        ecb-help.
* help-info-path:                        ecb-help.
* hide-ecb-windows-after-hook:           ecb-layout.
* hide-ecb-windows-before-hook:          ecb-layout.
* highlight-token-header-after-jump:     ecb-methods.
* highlight-token-with-point:            ecb-methods.
* highlight-token-with-point-delay:      ecb-methods.
* history-buffer-after-create-hook:      ecb-history.
* history-buffer-name:                   ecb-history.
* history-face:                          ecb-face-options.
* history-general-face:                  ecb-face-options.
* history-item-name:                     ecb-history.
* key-map:                               ecb-general.
* kill-buffer-clears-history:            ecb-history.
* layout-always-operate-in-edit-window:  ecb-layout.
* layout-name:                           ecb-layout.
* layout-switch-to-compilation-window:   ecb-layout.
* layout-window-sizes:                   ecb-layout.
* major-modes-activate:                  ecb-general.
* major-modes-deactivate:                ecb-general.
* method-face:                           ecb-face-options.
* methods-buffer-after-create-hook:      ecb-methods.
* methods-buffer-name:                   ecb-methods.
* methods-general-face:                  ecb-face-options.
* minor-mode-text:                       ecb-general.
* mode-line-prefixes:                    ecb-general.
* new-ecb-frame:                         ecb-layout.
* other-window-jump-behavior:            ecb-layout.
* post-process-semantic-tokenlist:       ecb-methods.
* primary-mouse-jump-destination:        ecb-general.
* primary-secondary-mouse-buttons:       ecb-general.
* redraw-layout-after-hook:              ecb-layout.
* redraw-layout-before-hook:             ecb-layout.
* redraw-layout-quickly:                 ecb-layout.
* scroll-window-after-jump:              ecb-methods.
* select-edit-window-on-redraw:          ecb-layout.
* show-ecb-windows-after-hook:           ecb-layout.
* show-ecb-windows-before-hook:          ecb-layout.
* show-help-format:                      ecb-help.
* show-node-info-in-minibuffer:          ecb-general.
* show-only-positioned-tokens:           ecb-methods.
* show-source-file-extension:            ecb-sources.
* show-sources-in-directories-buffer:    ecb-directories.
* show-tokens:                           ecb-methods.
* sort-history-items:                    ecb-history.
* source-face:                           ecb-face-options.
* source-file-regexps:                   ecb-sources.
* source-in-directories-buffer-face:     ecb-face-options.
* source-path:                           ecb-directories.
* sources-buffer-after-create-hook:      ecb-sources.
* sources-buffer-name:                   ecb-sources.
* sources-general-face:                  ecb-face-options.
* sources-sort-method:                   ecb-sources.
* split-edit-window:                     ecb-layout.
* temp-dir:                              ecb-general.
* toggle-layout-sequence:                ecb-layout.
* token-display-function:                ecb-methods.
* token-header-face:                     ecb-face-options.
* token-jump-narrow:                     ecb-methods.
* token-jump-sets-mark:                  ecb-methods.
* tree-expand-symbol-before:             ecb-general.
* tree-incremental-search:               ecb-general.
* tree-indent:                           ecb-general.
* tree-navigation-by-arrow:              ecb-general.
* tree-RET-selects-edit-window:          ecb-general.
* truncate-lines:                        ecb-general.
* truncate-long-names:                   ecb-general.
* type-token-display:                    ecb-methods.
* use-recursive-edit:                    ecb-general.
* use-speedbar-for-directories:          ecb-directories.
* version-check:                         ecb-general.
* window-sync:                           ecb-general.
* window-sync-delay:                     ecb-general.
* windows-height:                        ecb-layout.
* windows-width:                         ecb-layout.


File: ecb.info,  Node: Concept Index,  Prev: Option Index,  Up: Top

Concept Index
*************

* Menu:

* Activation hook-sequence:              Standard activation.
* Adviced functions:                     The edit-window.
* Automatic activation:                  Automatic activation.
* Automatic deactivation:                Automatic activation.
* avoid package:                         Conflicts.
* Bug report:                            Submitting problem report.
* calculator package:                    Conflicts.
* calendar package:                      Conflicts.
* collapsing:                            Navigation.
* compilation buffers:                   Temp- and compile-buffers.
* Creating new layouts:                  Creating a new ECB-layout.
* cygwin-mount package:                  Conflicts.
* Deactivation hook-sequence:            Standard activation.
* Directories:                           ECB Directories.
* Download:                              Downloading new versions.
* ECB-layout:                            The ECB-layout.
* ECB-windows:                           Overview.
* edit-window:                           The edit-window.
* eshell:                                Using eshell.
* expanding:                             Navigation.
* Faces:                                 Changing faces.
* follow-mouse package:                  Conflicts.
* Gnus:                                  Conflicts.
* grep buffers:                          Temp- and compile-buffers.
* help buffers:                          Temp- and compile-buffers.
* Hide windows:                          Hiding the ECB windows.
* History:                               ECB Sources.
* Hooks:                                 List of hooks.
* Incremental search:                    Incremental search.
* layout:                                The ECB-layout.
* Methods:                               ECB Methods.
* minor mode:                            Standard activation.
* mouse button:                          Using the mouse.
* New layouts:                           Creating a new ECB-layout.
* primary button:                        Using the mouse.
* Problem report:                        Submitting problem report.
* Redraw:                                Redrawing the ECB-layout.
* RETURN key:                            Navigation.
* Scrolling:                             Optimize scrolling.
* secondary button:                      Using the mouse.
* semantic token:                        Customizing the display.
* SHIFT-click:                           Using the mouse.
* Show windows:                          Hiding the ECB windows.
* Small screen:                          Small screens.
* Sources:                               ECB Sources.
* Speedbar:                              Simulating speedbar.
* TAB key:                               Navigation.
* temporary buffers:                     Temp- and compile-buffers.
* token:                                 Customizing the display.
* tree-buffer:                           Overview.
* VC package:                            Conflicts.
* Version control:                       Conflicts.



Tag Table:
Node: Top183
Node: Install and first steps6610
Node: Installation7109
Ref: Installation-Footnote-111035
Ref: Installation-Footnote-211170
Ref: Installation-Footnote-311282
Node: Setting up Emacs11347
Ref: Checking your hooks13293
Ref: Setting up Emacs-Footnote-114490
Ref: Setting up Emacs-Footnote-214594
Ref: Setting up Emacs-Footnote-314695
Ref: Setting up Emacs-Footnote-414754
Node: First steps14903
Ref: First steps-Footnote-116051
Node: Overview16280
Ref: Overview-Footnote-119031
Node: ECB Directories19124
Node: ECB Sources20141
Node: ECB Methods21295
Node: Activation and Deactivation21844
Node: Standard activation22214
Ref: Activation hook-sequence22792
Ref: Deactivation hook-sequence23112
Node: Automatic activation23286
Node: Usage of ECB24419
Node: Using the mouse25329
Ref: Using the mouse-Footnote-127604
Node: Using the keyboard27650
Ref: Using the keyboard-Footnote-128694
Node: Navigation28745
Node: Incremental search30085
Node: Personal keybindings32261
Ref: Personal keybindings-Footnote-134259
Node: The edit-window34362
Node: Temp- and compile-buffers36192
Node: The Methods buffer38474
Node: Customizing the display38915
Node: Rebuilding the Methods40637
Node: The ECB-layout41492
Node: Changing the ECB-layout42139
Ref: Changing the ECB-layout-Footnote-169855
Node: Redrawing the ECB-layout69947
Node: Creating a new ECB-layout70872
Ref: Creating a new ECB-layout-Footnote-175122
Node: Hiding the ECB windows75296
Node: Back/forward navigation76401
Ref: Back/forward navigation-Footnote-177502
Node: ECB-window synchronizing77561
Node: Interactive ECB commands80143
Node: Customizing90376
Node: General aspects91010
Ref: General aspects-Footnote-193843
Node: Most important options93975
Node: Customizable options95770
Node: ecb-general97200
Node: ecb-directories118642
Node: ecb-sources125538
Node: ecb-methods127793
Node: ecb-history140062
Node: ecb-layout142123
Node: ecb-compilation-content159119
Node: ecb-create-layout159685
Node: ecb-face-options160201
Node: ecb-faces163630
Node: ecb-download167622
Node: ecb-help168848
Node: ecb-eshell170832
Node: Submitting problem report171681
Node: Upgrading173044
Node: Downloading new versions173807
Ref: Download required packages175564
Ref: Downloading new versions-Footnote-1176662
Node: Auto. option-upgrading176711
Node: User interface177019
Node: Background information177905
Node: Tips and tricks181303
Node: Changing faces182053
Ref: Changing faces-Footnote-1184889
Node: Small screens185065
Node: Big screens186459
Node: Simulating speedbar187294
Node: Integrating speedbar188264
Ref: Integrating speedbar-Footnote-1190619
Ref: Integrating speedbar-Footnote-2190795
Node: Optimize scrolling190953
Node: Large directories192033
Node: Using eshell192698
Ref: Using eshell-Footnote-1194789
Node: Elisp programming194941
Node: List of variables195567
Node: List of hooks195879
Node: tree-buffer196835
Node: Adviced functions197641
Ref: Adviced functions-Footnote-1198254
Node: The layout-engine198325
Node: Programming a new layout199498
Node: Programming special windows206373
Ref: Programming special windows-Footnote-1216156
Node: The layout-engine API216208
Node: Conflicts and bugs217790
Node: Conflicts218265
Node: Bugs221975
Node: FAQ222195
Ref: FAQ-Footnote-1227364
Node: Command Index227395
Node: Option Index229914
Node: Concept Index236664

End Tag Table
